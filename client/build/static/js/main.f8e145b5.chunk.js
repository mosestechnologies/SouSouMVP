(this.webpackJsonpsousou=this.webpackJsonpsousou||[]).push([[0],{181:function(e,a,t){},216:function(e,a,t){e.exports=t.p+"static/media/bootstrap.ab904daa.jpg"},217:function(e,a,t){e.exports=t.p+"static/media/angular.368685db.jpg"},218:function(e,a,t){e.exports=t.p+"static/media/sketch.e7c82e5c.jpg"},219:function(e,a,t){e.exports=t.p+"static/media/react.c4eb3d0b.jpg"},220:function(e,a,t){e.exports=t.p+"static/media/vue.9378e368.jpg"},236:function(e,a,t){e.exports=t(503)},37:function(e,a,t){e.exports=t.p+"static/media/team-4-800x800.23007132.jpg"},371:function(e,a){},372:function(e,a){},373:function(e,a){},374:function(e,a){},375:function(e,a){},376:function(e,a){},377:function(e,a){},378:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=378},379:function(e,a){},38:function(e,a,t){e.exports=t.p+"static/media/team-1-800x800.53033970.jpg"},380:function(e,a,t){e.exports=t.p+"static/media/profile-cover.e2582654.jpg"},42:function(e,a,t){e.exports=t.p+"static/media/team-2-800x800.dcfcf3b7.jpg"},43:function(e,a,t){e.exports=t.p+"static/media/team-3-800x800.497bb359.jpg"},497:function(e,a,t){e.exports=t.p+"static/media/argon-react.f38ddea9.png"},498:function(e,a,t){},499:function(e,a,t){},501:function(e,a,t){},503:function(e,a,t){"use strict";t.r(a);var n=t(8),l=t(0),r=t.n(l),c=t(39),o=t.n(c),s=t(11),m=t(54),i=t(9),u=Object(l.createContext)(null),p=Object(l.createContext)(),E={isAuthenticated:!1,user:null,token:null},d=function(e,a){switch(a.type){case"LOGIN":return localStorage.setItem("user",JSON.stringify(a.payload.user)),localStorage.setItem("auth-token",a.payload.token),localStorage.setItem("login",!0),Object(i.a)(Object(i.a)({},e),{},{isAuthenticated:!0,user:a.payload.user,token:a.payload.token});case"LOGOUT":return localStorage.clear(),Object(i.a)(Object(i.a)({},e),{},{isAuthenticated:!1,user:null});default:return e}},g=t(26),h=t(27),f=t(29),b=t(28),y=t(506),v=t(505),N=t(507),O=t(508),j=t(509),S=t(510),C=t(222),x=t(511),k=t(512),w=t(537),R=t(538),_=t(513),T=t(514),F=t(515),U=function(e){var a=Object(l.useContext)(p),c=a.state,o=a.dispatch,m=Object(l.useState)(""),i=Object(n.a)(m,2),u=i[0],E=i[1];return Object(l.useEffect)((function(){E(c.user.username)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main"},r.a.createElement(y.a,{fluid:!0},r.a.createElement(s.b,{className:"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block",to:"/"},e.brandText),r.a.createElement(N.a,{className:"navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto"},r.a.createElement(O.a,{className:"mb-0"},r.a.createElement(j.a,{className:"input-group-alternative"},r.a.createElement(S.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement(x.a,{placeholder:"Search",type:"text"})))),r.a.createElement(k.a,{className:"align-items-center d-none d-md-flex",navbar:!0},r.a.createElement(w.a,{nav:!0},r.a.createElement(R.a,{className:"pr-0",nav:!0},r.a.createElement(_.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:t(37)})),r.a.createElement(_.a,{className:"ml-2 d-none d-lg-block"},r.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},u)))),r.a.createElement(T.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(F.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:s.b},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",null,"My profile")),r.a.createElement(F.a,{divider:!0}),r.a.createElement(F.a,{onClick:function(){localStorage.removeItem("auth-token"),localStorage.setItem("login",!1),localStorage.removeItem("user"),o({type:"LOGOUT"}),e.history.push("/auth/index")}},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Logout"))))))))},I=t(516),A=t(517),G=t(518),L=t(519),P=t(539),D=t(520),H=t(521),M=t(522),J=t(223);var W=function(){var e=Object(l.useState)(!1),a=Object(n.a)(e,2),t=a[0],c=a[1],o=function(){return c(!t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"py-5"},r.a.createElement(y.a,null,r.a.createElement(I.a,{className:"align-items-center justify-content-xl-between"},r.a.createElement(A.a,{xl:"6"},r.a.createElement("div",{className:"copyright text-center text-xl-left text-muted"},"\xa9 2020"," ",r.a.createElement("a",{className:"font-weight-bold ml-1",href:"#",target:"_blank"},"SouSou"))),r.a.createElement(A.a,{xl:"6"},r.a.createElement(k.a,{className:"nav-footer justify-content-center justify-content-xl-end"},r.a.createElement(G.a,null,r.a.createElement(L.a,{href:"#",target:"_blank"},"SouSou")),r.a.createElement(G.a,null,r.a.createElement(L.a,{href:"#",target:"_blank"},"About Us")),r.a.createElement(G.a,null,r.a.createElement(L.a,{onClick:o},"privacy policy")),r.a.createElement(P.a,{isOpen:t,toggle:o},r.a.createElement(D.a,{toggle:o},"Privacy policy"),r.a.createElement(H.a,null,"What information do we collect? We collect information from you when you register on our site. When registering on our site, as appropriate, you may be asked to enter your: name, e-mail address, mailing address, and phone number. What do we use your information for? Any of the information we collect from you may be used in one of the following ways: To personalize your experience (your information helps us to better respond to your individual needs) To improve our website (we continually strive to improve our website offerings based on the information and feedback we receive from you) To improve customer service (your information helps us to more effectively respond to your requests and support needs) To administer a contest, promotion, survey or other site feature Do we disclose any information to outside parties? We do not sell, trade, or otherwise transfer to outside parties your personally identifiable information."),r.a.createElement(M.a,null,r.a.createElement(J.a,{color:"danger",onClick:o},"Close")))))))))},z=t(101),q=t(523),Q=t(227),B=function(e){Object(f.a)(n,e);var a=Object(b.a)(n);function n(e){var t;return Object(g.a)(this,n),(t=a.call(this,e)).state={collapseOpen:!1},t.toggleCollapse=function(){t.setState({collapseOpen:!t.state.collapseOpen})},t.closeCollapse=function(){t.setState({collapseOpen:!1})},t.logout=function(){console.log("LOGOUT");var e=Object(l.useContext)(u),a=e.userData,t=e.setUserData;console.log("Context State",a),t({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),localStorage.setItem("login",!1)},t.createLinks=function(e){return e.slice(0,4).map((function(e,a){return r.a.createElement(G.a,{key:a},r.a.createElement(L.a,{to:e.layout+e.path,tag:s.c,onClick:t.closeCollapse,activeClassName:"active"},r.a.createElement("i",{className:e.icon}),e.name))}))},t.activeRoute.bind(Object(z.a)(t)),t}return Object(h.a)(n,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"render",value:function(){var e,a=this.props,n=(a.bgColor,a.routes),l=a.logo;return l&&l.innerLink?e={to:l.innerLink,tag:s.b}:l&&l.outterLink&&(e={href:l.outterLink,target:"_blank"}),r.a.createElement(v.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main"},r.a.createElement(y.a,{fluid:!0},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",{className:"navbar-toggler-icon"})),l?r.a.createElement(q.a,Object.assign({className:"pt-0"},e),r.a.createElement("h1",null,"SouSou")):null,r.a.createElement(k.a,{className:"align-items-center d-md-none"},r.a.createElement(w.a,{nav:!0},r.a.createElement(R.a,{nav:!0,className:"nav-link-icon"},r.a.createElement("i",{className:"ni ni-bell-55"})),r.a.createElement(T.a,{"aria-labelledby":"navbar-default_dropdown_1",className:"dropdown-menu-arrow",right:!0})),r.a.createElement(w.a,{nav:!0},r.a.createElement(R.a,{nav:!0},r.a.createElement(_.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:t(38)})))),r.a.createElement(T.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(F.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:s.b},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",null,"My profile")),r.a.createElement(F.a,{divider:!0}),r.a.createElement(F.a,{href:"#pablo",onClick:this.logout},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Logout"))))),r.a.createElement(Q.a,{navbar:!0,isOpen:this.state.collapseOpen},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(I.a,null,l?r.a.createElement(A.a,{className:"collapse-brand",xs:"6"},l?r.a.createElement(q.a,Object.assign({className:"pt-0"},e),r.a.createElement("h1",null,"SouSou")):null):null,r.a.createElement(A.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement(N.a,{className:"mt-4 mb-3 d-md-none"},r.a.createElement(j.a,{className:"input-group-rounded input-group-merge"},r.a.createElement(x.a,{"aria-label":"Search",className:"form-control-rounded form-control-prepended",placeholder:"Search",type:"search"}),r.a.createElement(S.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement("span",{className:"fa fa-search"}))))),r.a.createElement(k.a,{navbar:!0},this.createLinks(n)),r.a.createElement("hr",{className:"my-3"}))))}}]),n}(r.a.Component);B.defaultProps={routes:[{}]};var V=B,K=function(e){Object(f.a)(t,e);var a=Object(b.a)(t);function t(){return Object(g.a)(this,t),a.apply(this,arguments)}return Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},r.a.createElement(y.a,{fluid:!0},r.a.createElement("div",{className:"header-body"}))))}}]),t}(r.a.Component),Y=t(524),Z=t(525),X=t(526),$=t(100),ee=t.n($),ae=t(12),te=t.n(ae),ne=t(228),le=t.n(ne),re={group:{},isFetching:!1,hasError:!1,paymentSuccess:!1,paymentError:!1},ce=function(e,a){switch(a.type){case"FETCH_GROUPS_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!0,hasError:!1});case"FETCH_GROUPS_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!1,group:a.payload});case"FETCH_GROUPS_FAILURE":return Object(i.a)(Object(i.a)({},e),{},{hasError:!0,isFetching:!1});default:return e}},oe=function(e){var a=Object(l.useReducer)(ce,re),t=Object(n.a)(a,2),c=(t[0],t[1]),o=Object(l.useState)(),s=Object(n.a)(o,2),m=s[0],i=s[1],u=Object(l.useState)({}),E=Object(n.a)(u,2),d=E[0],g=E[1],h=Object(l.useState)(),f=Object(n.a)(h,2),b=f[0],v=f[1],N=e.match.params.groupId,O=r.a.useContext(p).state,j=O.user?O.user:JSON.parse(localStorage.getItem("user")),S=function(e){console.log("The payment was succeeded!",e);var a={PAYPAL:{paypalEmail:e.email,paid:e.paid,payerID:e.payerID,paymentID:e.paymentID,paymentToken:e.paymentToken,paymentMethod:"paypal",userID:j.id,userEmail:j.email}};console.log("paymentSuccessData: ",a),console.log("user",O.user),te.a.post("/group/testpayment/".concat(N),a,{headers:{"Content-Type":"application/json","auth-token":R}}).then((function(e){console.log("Payment Successfully Processed",e)})).catch((function(e){console.log("ERROR:>> ",e)}))},C=function(e){console.log("The payment was cancelled!",e)},x=function(e){console.log("Error!",e)},k={sandbox:"AYsJCaZfgj6KHfKlmYrkk5zRi5UdaDd94Ew6PtwfLA2c1JsocatAvZKtcHvUU-VMd1KHVjahJvsOLbnA"},w={label:"pay",tagline:!1,size:"medium",shape:"pill",color:"gold",height:50},R=O.token?O.token:localStorage.getItem("auth-token");return Object(l.useEffect)((function(){var a=JSON.parse(localStorage.getItem("user"));a||e.history.push("/auth/login");JSON.stringify({memberID:a.id});c({type:"FETCH_GROUPS_REQUEST"}),te.a.post("/group/get-group/".concat(N),{memberID:a.id},{headers:{"Content-Type":"application/json","auth-token":R}}).then((function(e){console.log("Group DATA Successfully received: ",e.data.group),c({type:"FETCH_GROUPS_SUCCESS",payload:e.data.group}),g(e.data.group),v(parseInt(e.data.group.payment_frequency))})).catch((function(e){console.log("ERROR:>> ",e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),r.a.createElement(y.a,{className:"mt--9",fluid:!0},r.a.createElement(Y.a,{className:"shadow border-0"},r.a.createElement("div",{className:"card"},r.a.createElement(Z.a,{className:"card-header"},r.a.createElement("center",null,console.log("groupData",d),r.a.createElement("h1",null,d.title)),r.a.createElement("div",{className:"row justify-content-end mr-7"},d.members?function(){var e=d.cycle_status.length-1;return d.members.length<d.members_limit?r.a.createElement("h3",null,"GROUP NOT FULL"):d.cycle_status[e].payment_arrived.includes(j.id)?r.a.createElement("h3",null,"Paid for the current cycle"):r.a.createElement(le.a,{env:"sandbox",client:k,currency:"USD",total:b,locale:"en_US",style:w,shipping:1,onError:x,onSuccess:S,onCancel:C})}():"")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row justify-content-center mb-4"},r.a.createElement("div",{className:"col-lg-9 col-sm-12 mt-4 row"},r.a.createElement("input",{className:"col-lg-9 mr-4",type:"text",readonly:!0,value:"https://www.sousou-app.herokuapp.com/joingroup/".concat(j.id,"/").concat(N),onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{type:"submit",onClick:function(){ee()(m,{debug:!0,message:"Press #{key} to copy"}),console.log(m)},className:"col-2 btn btn-success"},"Copy invite Link"))),r.a.createElement("div",{className:"row justify-content-center mb-4"},r.a.createElement("div",{className:"col-lg-6 col-sm-12"},r.a.createElement("h2",null,"Members List"),r.a.createElement(X.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"))),r.a.createElement("tbody",null,d.members?d.members.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},r.a.createElement(_.a,{className:"align-items-center"},r.a.createElement(_.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},"".concat(e.first_name," ").concat(e.last_name))))),r.a.createElement("td",null,e.email)))})):r.a.createElement("tr",null,"NO DATA")))),r.a.createElement("div",{className:"col-lg-6 col-sm-12"},r.a.createElement("h2",null,"Group Details"),r.a.createElement(X.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Limit"),r.a.createElement("th",{scope:"col"},"Joined"),r.a.createElement("th",{scope:"col"},"Installment"),r.a.createElement("th",{scope:"col"},"Payment Cycle"))),r.a.createElement("tbody",null,O.isFetching?r.a.createElement("tr",null,"LOADING..."):O.hasError?r.a.createElement("tr",null,"ERROR..."):r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement(_.a,{className:"align-items-center"},r.a.createElement(_.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},console.log("groups:: ",O.group),"".concat(d.members_limit," "))))),r.a.createElement("td",null,d.members?d.members.length:"0"),r.a.createElement("td",null,d.payment_frequency),r.a.createElement("td",null,d.payment_cycle)))))))))))},se=t(18),me=t.n(se),ie=t(36);t(5),t(59),t(287);var ue=function(e){var a=e.totalposts,t=e.paginate,n=e.totalusers,l=[];if(a)for(var c=1;c<=Math.ceil(a/10);c++)l.push(c);else for(var o=1;o<=Math.ceil(n/10);o++)l.push(o);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},l.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("a",{onClick:function(){return t(e)},className:"page-link"},e))}))))},pe=(t(288),t(527)),Ee=function(e,a){switch(a.type){case"FETCH_GROUPS_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!0,hasError:!1});case"FETCH_GROUPS_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!1,groups:a.payload});case"FETCH_GROUPS_FAILURE":return Object(i.a)(Object(i.a)({},e),{},{hasError:!0,isFetching:!1});default:return e}},de=function(e,a){switch(a.type){case"FETCH_USERS_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!0,hasError:!1});case"FETCH_USERS_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!1,users:a.payload});case"FETCH_USERS_FAILURE":return Object(i.a)(Object(i.a)({},e),{},{hasError:!0,isFetching:!1});default:return e}},ge={groups:[],isFetching:!1,hasError:!1},he={users:[],isFetching:!1,hasError:!1};var fe=function(){var e,a=r.a.useContext(p).state,t=Object(l.useState)(1),c=Object(n.a)(t,2),o=c[0],m=(c[1],Object(l.useState)(1)),i=Object(n.a)(m,2),u=i[0],E=i[1],d=Object(l.useState)([]),g=Object(n.a)(d,2),h=g[0],f=g[1],b=Object(l.useState)([]),v=Object(n.a)(b,2),N=v[0],O=v[1],j=Object(l.useState)(),S=Object(n.a)(j,2),C=S[0],x=S[1],k=r.a.useReducer(de,he),w=Object(n.a)(k,2),R=w[0],T=w[1],F=r.a.useReducer(Ee,ge),U=Object(n.a)(F,2),G=U[0],L=U[1],P=a.user,D=a.token,H=null===(e=a.user)||void 0===e?void 0:e.id,M={role:P.role,id:H};return Object(l.useEffect)((function(){"admin"===a.user.role&&function(){var e=Object(ie.a)(me.a.mark((function e(){var a,t,n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T({type:"FETCH_USERS_REQUEST"}),e.next=3,te.a.post("admin/users/".concat(u),M,{headers:{"Content-Type":"application/json","auth-token":D}});case 3:a=e.sent,T({type:"FETCH_USERS_SUCCESS",payload:a.data}),t=a.data.users,n=a.data.total_users,x(n),f(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[u]),Object(l.useEffect)((function(){"admin"===a.user.role?function(){var e=Object(ie.a)(me.a.mark((function e(){var a,t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L({type:"FETCH_GROUPS_REQUEST"}),e.next=3,te.a.post("admin/groups/".concat(o),M,{headers:{"Content-Type":"application/json","auth-token":D}});case 3:a=e.sent,L({type:"FETCH_GROUPS_SUCCESS",payload:a}),t=a.data.groups,O(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():function(){var e=Object(ie.a)(me.a.mark((function e(){var a,t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L({type:"FETCH_GROUPS_REQUEST"}),e.next=3,te.a.get("/group/get/".concat(H),{headers:{"Content-Type":"application/json","auth-token":D}});case 3:a=e.sent,L({type:"FETCH_GROUPS_SUCCESS",payload:a}),t=a.data.Groups,O(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),r.a.createElement(y.a,{className:"mt--7",fluid:!0},"admin"===a.user.role?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{className:"mt-5"},r.a.createElement(A.a,{className:"mb-5 mb-xl-0",xl:"6"},r.a.createElement(Y.a,{className:"shadow"},r.a.createElement(Z.a,{className:"border-0"},r.a.createElement(I.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"mb-0"},"Active Groups")),r.a.createElement("div",{className:"col text-right"},r.a.createElement(s.b,{to:"/admin/group",color:"primary",size:"sm"},"See all")))),r.a.createElement(X.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Target"),r.a.createElement("th",{scope:"col"},"Members"))),G.isFetching?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,r.a.createElement("td",null,"LOADING..."))):G.hasError?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,"AN ERROR HAS OCCURED")):0===G.groups.length?r.a.createElement("tbody",null,"No Groups Found"):r.a.createElement("tbody",null,null===N||void 0===N?void 0:N.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},r.a.createElement(_.a,{className:"align-items-center"},r.a.createElement(_.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},r.a.createElement(s.b,{to:"/group/".concat(e._id)},e.title))))),r.a.createElement("td",null,e.target_amount),r.a.createElement("td",null,r.a.createElement("div",{className:"avatar-group"},"".concat(e.members.length," / ").concat(e.members_limit))))})))))),r.a.createElement(A.a,{className:"",xl:"6"},r.a.createElement(Z.a,{className:"shadow"},r.a.createElement(Z.a,{className:"border-0"},r.a.createElement(I.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"mb-0"},"All Users")),r.a.createElement("div",{className:"col text-right"},r.a.createElement(J.a,{color:"primary",href:"",onClick:function(e){return e.preventDefault()},size:"sm"},"See all")))),r.a.createElement(X.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Role"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"}))),R.isFetching?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,r.a.createElement("td",null,"LOADING..."))):R.hasError?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,"AN ERROR HAS OCCURED")):0===R.users.length?r.a.createElement("tbody",null,"No Users Found"):r.a.createElement("tbody",null,null===h||void 0===h?void 0:h.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},e.username),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.role),r.a.createElement("td",null,e.status))}))))),r.a.createElement(pe.a,{className:"py-4"},r.a.createElement(ue,{totalusers:C,paginate:function(e){console.log(e),E(e)}}))))):r.a.createElement(I.a,{className:"mt-5"},r.a.createElement(A.a,{className:"mb-5 mb-xl-0",xl:"8"},r.a.createElement(Y.a,{className:"shadow"},r.a.createElement(Z.a,{className:"border-0"},r.a.createElement(I.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"mb-0"},"Active Groups")),r.a.createElement("div",{className:"col text-right"},r.a.createElement(J.a,{color:"primary",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"See all")))),r.a.createElement(X.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Target"),r.a.createElement("th",{scope:"col"},"Members"))),G.isFetching?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,r.a.createElement("td",null,"LOADING..."))):G.hasError?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,"AN ERROR HAS OCCURED")):0===G.groups.length?r.a.createElement("tbody",null,console.log("NO GROUPS: ",G.groups.length),"No Groups Found"):r.a.createElement("tbody",null,N.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},r.a.createElement(_.a,{className:"align-items-center"},r.a.createElement(_.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},r.a.createElement(s.b,{to:"/group/".concat(e._id)},e.title))))),r.a.createElement("td",null,e.target_amount),r.a.createElement("td",null,r.a.createElement("div",{className:"avatar-group"},"".concat(e.members.length," / ").concat(e.members_limit))))})))))),r.a.createElement(A.a,{xl:"4"}))))},be=(t(181),function(){var e=Object(l.useState)(),a=Object(n.a)(e,2),t=a[0],c=a[1],o=Object(l.useState)(),s=Object(n.a)(o,2),m=s[0],i=s[1],u=Object(l.useState)(),p=Object(n.a)(u,2),E=p[0],d=p[1],g=Object(l.useState)(),h=Object(n.a)(g,2),f=h[0],b=h[1],v=Object(l.useState)(),N=Object(n.a)(v,2),O=N[0],j=N[1],S=Object(l.useState)(),C=Object(n.a)(S,2),x=C[0],k=C[1];return Object(l.useEffect)((function(){}),[x]),r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement(y.a,{className:"mt--7",fluid:!0},r.a.createElement(I.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(Y.a,{className:"shadow border-0"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("center",null,r.a.createElement("h2",null,"Enter Group Details"))),r.a.createElement("div",{className:"row justify-content-center mb-4"},r.a.createElement("div",{className:"col-9 mt-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Group Title",onChange:function(e){return c(e.target.value)},className:"form-control",id:"title"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",placeholder:"Members Limit",onChange:function(e){return i(e.target.value)},className:"form-control",id:"members"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",placeholder:"Payment Frequency",onChange:function(e){return b(e.target.value)},className:"form-control",id:"frequency"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",placeholder:"Target Amount",onChange:function(e){return d(e.target.value)},className:"form-control",id:"target"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Payment Interval",onChange:function(e){return j(e.target.value)},className:"form-control",id:"interval"})),r.a.createElement("button",{id:"add",type:"submit",onClick:function(){var e,a,n=JSON.parse(localStorage.getItem("user"));n&&(e=n.id,a=n.id,console.log(e));var l={title:t,members:a,members_limit:m,target_amount:E,payment_frequency:f,payment_cycle:O,created_by:e};try{var r=localStorage.getItem("auth-token");console.log(r),te.a.post("/group/create",l,{headers:{"Content-Type":"application/json","auth-token":r}}).then((function(e){console.log("Group Created Successfully",e),k(!0)})).catch((function(e){console.log("ERROR:>> ",e),e.response.data.error&&console.log({"ERROR: ":e,"ERROR MESSAGE: ":e.response.data.error.message,"ERROR TITLE: ":e.response.data.error.errors.title.message,"ERROR KIND: ":e.response.data.error.errors.title.kind,"ERROR NAME: ":e.response.data.error.errors.title.name,"ERROR PATH":e.response.data.error.errors.title.path})}))}catch(c){console.log("ERROR CREATING GROUP: ",c)}},className:"btn btn-primary"},"Add"),r.a.createElement("div",null,x?r.a.createElement("div",{className:"success"},"Group Successfully Created"):r.a.createElement("div",null))))))))))}),ye=t(528),ve=t(529),Ne=t(530),Oe=(t(502),t(370),{groups:[],isFetching:!1,hasError:!1}),je=function(e,a){switch(a.type){case"FETCH_GROUPS_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!0,hasError:!1});case"FETCH_GROUPS_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!1,groups:a.payload});case"FETCH_GROUPS_FAILURE":return Object(i.a)(Object(i.a)({},e),{},{hasError:!0,isFetching:!1});default:return e}},Se={groupId:null,title:"",membersLimit:""},Ce=function(){var e=Object(l.useState)(Se),a=Object(n.a)(e,2),t=a[0],c=a[1],o=Object(l.useState)([]),m=Object(n.a)(o,2),u=m[0],E=m[1],d=r.a.useReducer(je,Oe),g=Object(n.a)(d,2),h=g[0],f=g[1],b=r.a.useContext(p).state,v=Object(l.useState)(!1),N=Object(n.a)(v,2),O=N[0],j=N[1],S=function(){return j(!O)},C=Object(l.useState)(1),k=Object(n.a)(C,2),U=k[0],A=k[1],G=Object(l.useState)(),L=Object(n.a)(G,2),W=L[0],z=L[1],q=function(e){c(Object(i.a)(Object(i.a)({},t),{},{[e.target.name]:e.target.value}))};return Object(l.useEffect)((function(){var e;f({type:"FETCH_GROUPS_REQUEST"});var a=b.user,t=b.token,n=null===(e=b.user)||void 0===e?void 0:e.id,l={role:a.role,id:n};"admin"===b.user.role?function(){var e=Object(ie.a)(me.a.mark((function e(){var a,n,r;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f({type:"FETCH_GROUPS_REQUEST"}),e.next=3,te.a.post("/admin/groups/".concat(U),l,{headers:{"Content-Type":"application/json","auth-token":t}});case 3:a=e.sent,f({type:"FETCH_GROUPS_SUCCESS",payload:a}),n=a.data.total_groups,z(n),r=a.data.groups,E(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():te.a.get("/group/get/".concat(n),{headers:{"Content-Type":"application/json","auth-token":t}}).then((function(e){return console.log(e.data.Groups),E(e.data.Groups),e})).then((function(e){console.log(e),f({type:"FETCH_GROUPS_SUCCESS",payload:e})})).catch((function(e){console.log(e.request),f({type:"FETCH_GROUPS_FAILURE"})}))}),[U]),r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement(y.a,{className:"mt--7",fluid:!0},r.a.createElement(I.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(Y.a,{className:"shadow"},r.a.createElement(Z.a,{className:"border-0"},r.a.createElement("h3",{className:"mb-0"},"Groups")),r.a.createElement(X.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Target"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"},"Members"),r.a.createElement("th",{scope:"col"},"Completion"),r.a.createElement("th",{scope:"col"}))),h.isFetching?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,r.a.createElement("td",null,"LOADING..."))):h.hasError?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,"AN ERROR HAS OCCURED")):0===h.groups.length?r.a.createElement("tbody",null,console.log("NO GROUPS: ",h.groups.length),"No Groups Found"):r.a.createElement("tbody",null,null===u||void 0===u?void 0:u.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},r.a.createElement(_.a,{className:"align-items-center"},r.a.createElement(_.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},r.a.createElement(s.b,{to:"/group/".concat(e._id)},e.title))))),r.a.createElement("td",null,e.target_amount),r.a.createElement("td",null,r.a.createElement(ye.a,{color:"",className:"badge-dot mr-4"},r.a.createElement("i",{className:"bg-warning"}),"pending")),r.a.createElement("td",null,r.a.createElement("div",{className:"avatar-group"},"".concat(e.members.length," / ").concat(e.members_limit))),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"mr-2"},"60%"),r.a.createElement("div",null,r.a.createElement(ve.a,{max:"100",value:"60",barClassName:"bg-danger"})))),0==(null===e||void 0===e?void 0:e.cycle_status.length)&&b.user.id==e.created_by?r.a.createElement("td",{className:"text-right"},r.a.createElement(w.a,null,r.a.createElement(R.a,{className:"btn-icon-only text-light",href:"#pablo",role:"button",size:"sm",color:"",onClick:function(e){return e.preventDefault()}},r.a.createElement("i",{className:"fas fa-ellipsis-v"})),r.a.createElement(T.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(F.a,{onClick:function(){return a=e._id,c(Object(i.a)(Object(i.a)({},t),{},{groupId:a,userID:b.user.id})),void S();var a}},"Edit"),r.a.createElement(F.a,{onClick:function(){return a=e._id,void function(){var e=Object(ie.a)(me.a.mark((function e(){var t,n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.a.delete("admin/group/".concat(a));case 2:t=e.sent,n=t.data,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();var a}},"Delete"),r.a.createElement(P.a,{isOpen:O,toggle:S},r.a.createElement(D.a,{toggle:S},"Edit Group Settings"),r.a.createElement(H.a,null,r.a.createElement(Ne.a,null,"Title"),r.a.createElement(x.a,{name:"title",type:"text",value:t.title,onChange:q}),r.a.createElement(Ne.a,null,"Members Limit"),r.a.createElement(x.a,{name:"membersLimit",type:"number",onChange:q,value:t.membersLimit})," ",r.a.createElement(Ne.a,null,"Payment Frequency"),r.a.createElement(x.a,{name:"paymentfrequency",type:"number",value:t.paymentfrequency,onChange:q}),r.a.createElement(Ne.a,null,"Target Amount"),r.a.createElement(x.a,{name:"targetAmount",type:"number",value:t.targetAmount,onChange:q}),r.a.createElement(Ne.a,null,"Payment Interval"),r.a.createElement(x.a,{name:"paymentInterval",type:"text",value:t.paymentInterval,onChange:q}),r.a.createElement("div",{className:"form-group"})),r.a.createElement(M.a,null,r.a.createElement(J.a,{color:"primary",onClick:function(){return S(),void te.a.post("/group/update/".concat(t.groupId),t,{headers:{"Content-Type":"application/json","auth-token":b.token}}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}))}},"Save Settings")," ",r.a.createElement(J.a,{color:"secondary",onClick:S},"Cancel")))))):r.a.createElement("td",null))})))),r.a.createElement(pe.a,{className:"py-4"},r.a.createElement(ue,{totalposts:W,paginate:function(e){console.log(e),A(e)}})))))))},xe=t(531),ke=function(e){Object(f.a)(n,e);var a=Object(b.a)(n);function n(){return Object(g.a)(this,n),a.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center",style:{minHeight:"600px",backgroundImage:"url("+t(380)+")",backgroundSize:"cover",backgroundPosition:"center top"}},r.a.createElement("span",{className:"mask bg-gradient-default opacity-8"}),r.a.createElement(y.a,{className:"d-flex align-items-center",fluid:!0},r.a.createElement(I.a,null,r.a.createElement(A.a,{lg:"7",md:"10"},r.a.createElement("h1",{className:"display-2 text-white"},"Hello Jesse"),r.a.createElement("p",{className:"text-white mt-0 mb-5"},"This is your profile page. You can see the progress you've made with your work and manage your projects or assigned tasks"),r.a.createElement(J.a,{color:"info",href:"#pablo",onClick:function(e){return e.preventDefault()}},"Edit profile"))))))}}]),n}(r.a.Component),we=function(){var e=Object(l.useState)({}),a=Object(n.a)(e,2),t=a[0],c=a[1],o=r.a.useContext(p).state;return Object(l.useEffect)((function(){console.log("Profile");var e=o.user,a={headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("auth-token")||null}};te.a.get("/users/find-user/".concat(e.id),a).then((function(e){return console.log("Profile: ",e),c({email:e.data.email,first_name:e.data.first_name,last_name:e.data.last_name,username:e.data.username}),e})).catch((function(e){console.log("Got an error: ",e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,null),r.a.createElement(y.a,{className:"mt--7",fluid:!0},r.a.createElement(I.a,null,r.a.createElement(A.a,{className:"order-xl-2 mb-5 mb-xl-0",xl:"4"},r.a.createElement(Y.a,{className:"card-profile shadow"},r.a.createElement(I.a,{className:"justify-content-center"},r.a.createElement(A.a,{className:"order-lg-2",lg:"3"})),r.a.createElement(Z.a,{className:"text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(J.a,{className:"mr-4",color:"info",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"Connect"),r.a.createElement(J.a,{className:"float-right",color:"default",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"Message"))),r.a.createElement(xe.a,{className:"pt-0 pt-md-4"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",null,"".concat(t.first_name," ").concat(t.last_name)),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",null,r.a.createElement("i",{className:"ni education_hat mr-2"}),"".concat(t.email)))))),r.a.createElement(A.a,{className:"order-xl-1",xl:"8"},r.a.createElement(Y.a,{className:"bg-secondary shadow"},r.a.createElement(Z.a,{className:"bg-white border-0"},r.a.createElement(I.a,{className:"align-items-center"},r.a.createElement(A.a,{xs:"8"},r.a.createElement("h3",{className:"mb-0"},"My account")),r.a.createElement(A.a,{className:"text-right",xs:"4"},r.a.createElement(J.a,{color:"primary",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"Settings")))),r.a.createElement(xe.a,null,r.a.createElement(N.a,null,r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"User information"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(I.a,null,r.a.createElement(A.a,{lg:"6"},r.a.createElement(O.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-username"},"Username"),r.a.createElement(x.a,{type:"text",className:"form-control-alternative",defaultValue:"lucky.jesse",id:"input-username",placeholder:"".concat(t.username)}))),r.a.createElement(A.a,{lg:"6"},r.a.createElement(O.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-email"},"Email address"),r.a.createElement(x.a,{className:"form-control-alternative",id:"input-email",placeholder:"".concat(t.email),type:"email"})))),r.a.createElement(I.a,null,r.a.createElement(A.a,{lg:"6"},r.a.createElement(O.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-first-name"},"First name"),r.a.createElement(x.a,{className:"form-control-alternative",defaultValue:"".concat(t.first_name),id:"input-first-name",placeholder:"First name",type:"text"}))),r.a.createElement(A.a,{lg:"6"},r.a.createElement(O.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Last name"),r.a.createElement(x.a,{className:"form-control-alternative",defaultValue:"".concat(t.last_name),id:"input-last-name",placeholder:"Last name",type:"text"}))))),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Contact information"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(I.a,null,r.a.createElement(A.a,{md:"12"},r.a.createElement(O.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-address"},"Address"),r.a.createElement(x.a,{className:"form-control-alternative",defaultValue:"Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09",id:"input-address",placeholder:"Home Address",type:"text"})))),r.a.createElement(I.a,null,r.a.createElement(A.a,{lg:"4"},r.a.createElement(O.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-city"},"City"),r.a.createElement(x.a,{className:"form-control-alternative",defaultValue:"New York",id:"input-city",placeholder:"City",type:"text"}))),r.a.createElement(A.a,{lg:"4"},r.a.createElement(O.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Country"),r.a.createElement(x.a,{className:"form-control-alternative",defaultValue:"United States",id:"input-country",placeholder:"Country",type:"text"}))),r.a.createElement(A.a,{lg:"4"},r.a.createElement(O.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Postal code"),r.a.createElement(x.a,{className:"form-control-alternative",id:"input-postal-code",placeholder:"Postal code",type:"number"}))))),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"About me"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(O.a,null,r.a.createElement("label",null,"About Me"),r.a.createElement(x.a,{className:"form-control-alternative",placeholder:"A few words about you ...",rows:"4",defaultValue:"A beautiful Dashboard for Bootstrap 4. It is Free and Open Source.",type:"textarea"}))))))))))},Re=t(78),_e=Object(Re.withScriptjs)(Object(Re.withGoogleMap)((function(e){return r.a.createElement(Re.GoogleMap,{defaultZoom:12,defaultCenter:{lat:40.748817,lng:-73.985428},defaultOptions:{scrollwheel:!1,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#5e72e4"},{visibility:"on"}]}]}},r.a.createElement(Re.Marker,{position:{lat:40.748817,lng:-73.985428}}))})));r.a.Component;var Te=function(){var e=Object(l.useState)(),a=Object(n.a)(e,2),t=a[0],c=a[1],o=Object(l.useState)(),s=Object(n.a)(o,2),m=s[0],i=s[1],u=Object(l.useState)(),E=Object(n.a)(u,2),d=E[0],g=E[1],h=Object(l.useState)(),f=Object(n.a)(h,2),b=f[0],y=f[1],v=Object(l.useState)(),k=Object(n.a)(v,2),w=k[0],R=k[1],_=Object(l.useState)(!1),T=Object(n.a)(_,2),F=T[0],U=T[1],I=Object(l.useContext)(p),G=(I.state,I.dispatch),L=function(){var e=Object(ie.a)(me.a.mark((function e(a){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={first_name:t,last_name:m,username:d,password:b,email:w},e.next=4,te.a.post("/api/auth/register",n).then((function(e){console.log("Registered Successfully",e),U(!0),te.a.post("/api/auth/login",{email:w,password:b}).then((function(e){console.log("LoggedIn",e);var a=e.data.user,t=e.data.token;G({type:"LOGIN",payload:{user:a,token:t}})})).catch((function(e){return console.log("Error LoggingIn ",e)}))})).catch((function(e){return console.log("Error signing up",e)}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{lg:"6",md:"8"},r.a.createElement(Y.a,{className:"bg-secondary shadow border-0"},r.a.createElement(Z.a,{className:"bg-transparent pb-5"},r.a.createElement("div",{className:"text-muted text-center mt-2 mb-4"},r.a.createElement("h1",{className:"display-4"},"Register"))),r.a.createElement(xe.a,{className:"px-lg-5 py-lg-5"},r.a.createElement(N.a,{role:"form"},r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"input-group-alternative mb-3"},r.a.createElement(S.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement("i",{className:"ni ni-hat-3"}))),r.a.createElement(x.a,{name:"firstName",placeholder:"First Name",type:"text",onChange:function(e){return c(e.target.value)}}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"input-group-alternative mb-3"},r.a.createElement(S.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement("i",{className:"ni ni-hat-3"}))),r.a.createElement(x.a,{name:"lastName",placeholder:"Last Name",type:"text",onChange:function(e){return i(e.target.value)}}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"input-group-alternative mb-3"},r.a.createElement(S.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement("i",{className:"ni ni-hat-3"}))),r.a.createElement(x.a,{name:"username",placeholder:"User Name",type:"text",onChange:function(e){return g(e.target.value)}}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"input-group-alternative mb-3"},r.a.createElement(S.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(x.a,{name:"email",placeholder:"Email",type:"email",onChange:function(e){return R(e.target.value)},autoComplete:"new-email"}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"input-group-alternative"},r.a.createElement(S.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(x.a,{placeholder:"Password",type:"password",onChange:function(e){return y(e.target.value)},autoComplete:"new-password"}))),r.a.createElement("div",{className:"text-muted font-italic"},r.a.createElement("small",null,"password strength:"," ",r.a.createElement("span",{className:"text-success font-weight-700"},"strong"))),r.a.createElement("div",{className:"text-center"},r.a.createElement(J.a,{className:"mt-4",color:"primary",type:"button",onClick:L},"Create account")),F?r.a.createElement("div",{className:"success"},"Successfully Registered"):r.a.createElement("div",null))))))},Fe=function(e,a,t){return te.a.post("/api/auth/login",e).then((function(e){return a(e.data.token,!0,e.data.user),e})).then((function(e){var a=e.data.user,n=e.data.token;t({type:"LOGIN",payload:{user:a,token:n}}),console.log(E)})).catch((function(e){console.log("Got an error: ",e)}))};var Ue=function(e){var a=Object(l.useContext)(p),t=a.state,c=a.dispatch,o=Object(l.useState)({email:"",password:"",isSubmitting:!1,errorMessage:null}),m=Object(n.a)(o,2),u=m[0],E=m[1],d=function(e){E(Object(i.a)(Object(i.a)({},u),{},{[e.target.name]:e.target.value}))},g=function(){var a=Object(ie.a)(me.a.mark((function a(t){var n;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),E(Object(i.a)(Object(i.a)({},u),{},{isSubmitting:!0,errorMessage:null})),n={email:u.email,password:u.password},Fe(n,function(){var a=Object(ie.a)(me.a.mark((function a(t,n,l){return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.history.push("/admin/index");case 1:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}(),c);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(l.useEffect)((function(){t.isAuthenticated&&e.history.push("/admin/index")}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{lg:"5",md:"7"},r.a.createElement(Y.a,{className:"bg-secondary shadow border-0"},r.a.createElement(Z.a,{className:"bg-transparent pb-5"},r.a.createElement("div",{className:"text-muted text-center mt-2 mb-3"},r.a.createElement("h1",{className:"display-4"},"Welcome Back"))),r.a.createElement(xe.a,{className:"px-lg-5 py-lg-5"},r.a.createElement(N.a,{role:"form"},r.a.createElement(O.a,{className:"mb-3"},r.a.createElement(j.a,{className:"input-group-alternative"},r.a.createElement(S.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(x.a,{placeholder:"Email",name:"email",value:u.email,onChange:d,type:"email",autoComplete:"new-email"}))),r.a.createElement(O.a,null,r.a.createElement(j.a,{className:"input-group-alternative"},r.a.createElement(S.a,{addonType:"prepend"},r.a.createElement(C.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(x.a,{placeholder:"Password",name:"password",value:u.password,onChange:d,type:"password",autoComplete:"new-password"}))),r.a.createElement("div",{className:"text-center"},!0===(null===u||void 0===u?void 0:u.isSubmitting)?"...Signing In":r.a.createElement(J.a,{className:"my-4",color:"primary",type:"button",onClick:g},"Sign in"),t.isAuthenticated?r.a.createElement("div",{className:"success"},"Successfully Loggedin"):r.a.createElement("div",null))))),r.a.createElement(I.a,{className:"mt-3"},r.a.createElement(A.a,{xs:"6"},r.a.createElement(s.b,{to:"/reset-password",className:"text-light"},r.a.createElement("small",null,"Forgot password?"))),r.a.createElement(A.a,{className:"text-right",xs:"6"},r.a.createElement(s.b,{to:"/auth/register",className:"text-light"},r.a.createElement("small",null,"Create new account"))))))},Ie=t(536),Ae=t(532),Ge=t(533),Le=t(534),Pe=(r.a.Component,t(4)),De=(r.a.Component,[{path:"/index",name:"Dashboard",icon:"ni ni-tv-2 text- primary",component:fe,layout:"/admin"},{path:"/create-group",name:"Create Group",icon:"ni ni-tv-2 text-primary",component:be,layout:"/admin"},{path:"/group",name:"Groups",icon:"ni ni-tv-2 text-primary",component:Ce,layout:"/admin"},{path:"/user-profile",name:"User Profile",icon:"ni ni-single-02 text-yellow",component:we,layout:"/admin"},{path:"/login",name:"Login",icon:"ni ni-key-25 text-info",component:Ue,layout:"/auth"},{path:"/register",name:"Register",icon:"ni ni-circle-08 text-pink",component:Te,layout:"/auth"}]),He=function(e){Object(f.a)(n,e);var a=Object(b.a)(n);function n(){var e;Object(g.a)(this,n);for(var t=arguments.length,l=new Array(t),c=0;c<t;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).getRoutes=function(e){return e.map((function(e,a){return"/admin"===e.layout?r.a.createElement(m.b,{path:e.layout+e.path,component:e.component,key:a}):null}))},e.getBrandText=function(a){for(var t=0;t<De.length;t++)if(-1!==e.props.location.pathname.indexOf(De[t].layout+De[t].path))return De[t].name;return"Brand"},e}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,Object.assign({},this.props,{routes:De,logo:{innerLink:"/admin/index",imgSrc:t(497),imgAlt:"..."}})),r.a.createElement("div",{className:"main-content",ref:"mainContent"},r.a.createElement(U,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),r.a.createElement(m.d,null,this.getRoutes(De),r.a.createElement(m.a,{from:"*",to:"/admin/index"})),r.a.createElement(y.a,{fluid:!0},r.a.createElement(W,null))))}}]),n}(r.a.Component),Me=t(535),Je=function(){var e=Object(l.useContext)(p).state;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:"navbar-top navbar-horizontal navbar-dark",expand:"md"},r.a.createElement(y.a,{className:"px-4"},r.a.createElement(q.a,{to:"/",tag:s.b},"SouSou"),r.a.createElement("button",{className:"navbar-toggler",id:"navbar-collapse-main"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(Me.a,{navbar:!0,toggler:"#navbar-collapse-main"},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(I.a,null,r.a.createElement(A.a,{className:"collapse-brand",xs:"6"},r.a.createElement(s.b,{to:"/"},r.a.createElement("h1",null,"SouSou"))),r.a.createElement(A.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",id:"navbar-collapse-main"},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement(k.a,{className:"ml-auto",navbar:!0},e.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(L.a,{className:"nav-link-icon",to:"/admin/index",tag:s.b},r.a.createElement("i",{className:"ni ni-planet"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Dashboard"))),r.a.createElement(G.a,null,r.a.createElement(L.a,{className:"nav-link-icon",to:"/admin/user-profile",tag:s.b},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Profile")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,null,r.a.createElement(L.a,{className:"nav-link-icon",to:"/auth/register",tag:s.b},r.a.createElement("i",{className:"ni ni-circle-08"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Register"))),r.a.createElement(G.a,null,r.a.createElement(L.a,{className:"nav-link-icon",to:"/auth/login",tag:s.b},r.a.createElement("i",{className:"ni ni-key-25"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Login")))))))))};var We=function(){var e=Object(l.useState)(!1),a=Object(n.a)(e,2),t=a[0],c=a[1],o=function(){return c(!t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"py-5"},r.a.createElement(y.a,null,r.a.createElement(I.a,{className:"align-items-center justify-content-xl-between"},r.a.createElement(A.a,{xl:"6"},r.a.createElement("div",{className:"copyright text-center text-xl-left text-muted"},"\xa9 2020"," ",r.a.createElement("a",{className:"font-weight-bold ml-1",href:"#",target:"_blank"},"SouSou"))),r.a.createElement(A.a,{xl:"6"},r.a.createElement(k.a,{className:"nav-footer justify-content-center justify-content-xl-end"},r.a.createElement(G.a,null,r.a.createElement(L.a,{href:"#",target:"_blank"},"SouSou")),r.a.createElement(G.a,null,r.a.createElement(L.a,{href:"#",target:"_blank"},"About Us")),r.a.createElement(G.a,null,r.a.createElement(L.a,{href:"#",onClick:o},"privacy policy")),r.a.createElement(P.a,{isOpen:t,toggle:o},r.a.createElement(D.a,{toggle:o},"SouSou Privacy policy"),r.a.createElement(H.a,null,"What information do we collect? We collect information from you when you register on our site. When registering on our site, as appropriate, you may be asked to enter your: name, e-mail address, mailing address, and phone number. What do we use your information for? Any of the information we collect from you may be used in one of the following ways: To personalize your experience (your information helps us to better respond to your individual needs) To improve our website (we continually strive to improve our website offerings based on the information and feedback we receive from you) To improve customer service (your information helps us to more effectively respond to your requests and support needs) To administer a contest, promotion, survey or other site feature Do we disclose any information to outside parties? We do not sell, trade, or otherwise transfer to outside parties your personally identifiable information."),r.a.createElement(M.a,null,r.a.createElement(J.a,{color:"danger",onClick:o},"Close")))))))))},ze=function(e){Object(f.a)(t,e);var a=Object(b.a)(t);function t(){var e;Object(g.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).getRoutes=function(e){return e.map((function(e,a){return"/auth"===e.layout?r.a.createElement(m.b,{path:e.layout+e.path,component:e.component,key:a}):null}))},e}return Object(h.a)(t,[{key:"componentDidMount",value:function(){document.body.classList.add("bg-default")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("bg-default")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-content"},r.a.createElement(Je,null),r.a.createElement("div",{className:"header bg-gradient-info py-7 py-lg-8"},r.a.createElement("div",{className:"separator separator-bottom separator-skew zindex-100"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0"},r.a.createElement("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})))),r.a.createElement(y.a,{className:"mt--8 pb-5"},r.a.createElement(I.a,{className:"justify-content-center"},r.a.createElement(m.d,null,this.getRoutes(De),r.a.createElement(m.a,{from:"*",to:"/auth/login"}))))),r.a.createElement(We,null))}}]),t}(r.a.Component);t(498);var qe=function(){var e=Object(m.g)();return r.a.createElement("div",{class:"homepage"},r.a.createElement("div",{className:"color_overlay"}),r.a.createElement(Je,null),r.a.createElement("div",{className:"home__content"},r.a.createElement("h1",null,"SouSou"),r.a.createElement("span",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),r.a.createElement(J.a,{className:"button",onClick:function(){e.push("auth/register")}},"Register Now")),r.a.createElement(We,{class:"home__footer"}))},Qe=t(235),Be=function(e){var a=e.render,t=Object(Qe.a)(e,["render"]),n=r.a.useContext(p),l=n.state;n.dispatch;return r.a.createElement(m.b,Object.assign({},t,{render:function(e){return l.isAuthenticated?r.a.createElement(a,e):r.a.createElement(m.a,{to:"/auth/login"})}}))},Ve={group:{},isFetching:!1,hasError:!1},Ke=function(e,a){switch(a.type){case"FETCH_GROUP_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!0,hasError:!1});case"FETCH_GROUP_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!1,group:a.payload});case"FETCH_GROUP_FAILURE":return Object(i.a)(Object(i.a)({},e),{},{hasError:!0,isFetching:!1});default:return e}},Ye=function(e){var a=Object(l.useReducer)(Ke,Ve),t=Object(n.a)(a,2),c=t[0],o=t[1],s=Object(l.useState)(),m=Object(n.a)(s,2),i=m[0],u=m[1],E=e.match.params.groupId,d=r.a.useContext(p).state,g=d.token?d.token:localStorage.getItem("auth-token");return Object(l.useEffect)((function(){var a=JSON.parse(localStorage.getItem("user"));a||e.history.push("/auth/login");JSON.stringify({memberID:a.id});o({type:"FETCH_GROUP_REQUEST"}),console.log("DISPATCH Fetching: ",c),te.a.post("/group/get-group/".concat(E),{memberID:a.id},{headers:{"Content-Type":"application/json","auth-token":g}}).then((function(e){console.log("Group DATA Successfully received: ",e.data.group),u(e.data.group.members),o({type:"FETCH_GROUP_SUCCESS",payload:e.data.group})})).catch((function(e){console.log("ERROR:>> ",e)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center mb-4"},r.a.createElement("div",{className:"col-lg-6 col-sm-12"},r.a.createElement("h2",null,"Members List"),r.a.createElement(X.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"))),r.a.createElement("tbody",null))),r.a.createElement("div",{className:"col-lg-6 col-sm-12"},r.a.createElement("h2",null,"Group Details"),r.a.createElement(X.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Limit"),r.a.createElement("th",{scope:"col"},"Joined"),r.a.createElement("th",{scope:"col"},"Installment"),r.a.createElement("th",{scope:"col"},"Payment Cycle"))),r.a.createElement("tbody",null,c.isFetching?r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement(_.a,{className:"align-items-center"},r.a.createElement(_.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},console.log("groupState.isFetching 2?",c.isFetching),console.log("groups:: ",typeof c.group.members),console.log("GROUP MEMBERS:: ",i),console.log("GROUP MEMBERS:: ",typeof i),console.log("[object Array]"==Object.prototype.toString.call(i)),"".concat(c.group.members_limit," "))))),r.a.createElement("td",null,c.group.payment_frequency),r.a.createElement("td",null,c.group.payment_cycle)):c.hasError?r.a.createElement("tr",null,"ERROR..."):r.a.createElement("tr",null,console.log("groupState.isFetching 1?",c.isFetching),"LOADING..."))))))},Ze=function(e){console.log("props: ",e);var a=0;console.log("Render ".concat(++a," \ud83d\ude21"));var t=e.match.params.groupId,c=e.match.params.userId,o=Object(l.useState)(!1),s=Object(n.a)(o,2),m=(s[0],s[1],Object(l.useState)("")),i=Object(n.a)(m,2),u=(i[0],i[1],r.a.useContext(p).state);return Object(l.useEffect)((function(){if(!(u.user?u.user:JSON.parse(localStorage.getItem("user"))))return e.history.push("/auth/login")}),[]),r.a.createElement("div",{className:"mt-7 row justify-content-center"},r.a.createElement("h1",{className:"mr-4"},"Welcome"),r.a.createElement("button",{className:"btn btn-success btn-lg",onClick:function(){var e=u.user;console.log("Joining"),te.a.post("/group/joingroup/".concat(c,"/").concat(t),{userID:e.id},{headers:{"Content-Type":"application/json","auth-token":u.token}}).then((function(e){console.log("Successfully Joined the group: ",e)})).catch((function(e){console.log(e)}))}},"Join"))},Xe=function(){var e=Object(l.useState)(""),a=Object(n.a)(e,2),t=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement(y.a,{className:"mt-7 ",fluid:!0},r.a.createElement(I.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(Y.a,{className:"shadow border-0"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(s.b,{to:"/",className:"btn btn-success"},r.a.createElement("small",null,"Home")),r.a.createElement("center",null,r.a.createElement("h2",null,"Reset Password"))),r.a.createElement("div",{className:"row justify-content-center mb-4"},r.a.createElement("div",{className:"col-9 mt-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",placeholder:"your email",onChange:function(e){return c(e.target.value)},className:"form-control",id:"email"})),r.a.createElement("button",{id:"add",type:"submit",onClick:function(){te.a.post("email/reset-password/".concat(t),{headers:{"Content-Type":"application/json"}}).then((function(e){console.log("EMAIL SENT SUCCESSFULLY: ",e)})).catch((function(e){return console.error("ERROR SENDING EMAIL: ",e)}))},className:"btn btn-primary"},"Submit"),r.a.createElement("div",null)))))))))},$e=(t(499),t(500),t(501),function(){var e=r.a.useReducer(d,E),a=Object(n.a)(e,2),t=a[0],c=a[1];return Object(l.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user")||t.user),a=localStorage.getItem("auth-token")||t.token;e&&a&&c({type:"LOGIN",payload:{user:e,token:a}})}),[t.token]),r.a.createElement(p.Provider,{value:{state:t,dispatch:c}},r.a.createElement(s.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(qe,null)}}),r.a.createElement(Be,{path:"/admin",render:function(e){return r.a.createElement(He,e)}}),r.a.createElement(m.b,{path:"/auth",render:function(e){return r.a.createElement(ze,e)}}),r.a.createElement(m.b,{path:"/group/:groupId",render:function(e){return r.a.createElement(oe,e)}}),r.a.createElement(m.b,{path:"/group_view/:groupId",render:function(e){return r.a.createElement(Ye,e)}}),r.a.createElement(m.b,{path:"/joingroup/:userId/:groupId",render:function(e){return r.a.createElement(Ze,e)}}),r.a.createElement(m.b,{path:"/reset-password",render:function(e){return r.a.createElement(Xe,e)}}),r.a.createElement(m.b,{component:function(){return r.a.createElement("div",null,"404 Not found ")}}))))});o.a.render(r.a.createElement($e,null),document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.f8e145b5.chunk.js.map