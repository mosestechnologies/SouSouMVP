(this.webpackJsonpsousou=this.webpackJsonpsousou||[]).push([[0],{183:function(e,a,t){},219:function(e,a,t){e.exports=t.p+"static/media/bootstrap.ab904daa.jpg"},220:function(e,a,t){e.exports=t.p+"static/media/angular.368685db.jpg"},221:function(e,a,t){e.exports=t.p+"static/media/sketch.e7c82e5c.jpg"},222:function(e,a,t){e.exports=t.p+"static/media/react.c4eb3d0b.jpg"},223:function(e,a,t){e.exports=t.p+"static/media/vue.9378e368.jpg"},240:function(e,a,t){e.exports=t(508)},377:function(e,a){},378:function(e,a){},379:function(e,a){},38:function(e,a,t){e.exports=t.p+"static/media/team-4-800x800.23007132.jpg"},380:function(e,a){},381:function(e,a){},382:function(e,a){},383:function(e,a){},384:function(e,a){function t(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=384},385:function(e,a){},39:function(e,a,t){e.exports=t.p+"static/media/team-1-800x800.53033970.jpg"},42:function(e,a,t){e.exports=t.p+"static/media/team-2-800x800.dcfcf3b7.jpg"},43:function(e,a,t){e.exports=t.p+"static/media/team-3-800x800.497bb359.jpg"},502:function(e,a,t){e.exports=t.p+"static/media/argon-react.f38ddea9.png"},503:function(e,a,t){},504:function(e,a,t){},506:function(e,a,t){},508:function(e,a,t){"use strict";t.r(a);var n=t(8),l=t(0),r=t.n(l),c=t(238),o=t(24),s=t.n(o),m=t(11),i=t(54),u=t(9),p=Object(l.createContext)(null),E=Object(l.createContext)(),d={isAuthenticated:!1,user:null,token:null},g=function(e,a){switch(a.type){case"LOGIN":return localStorage.setItem("user",JSON.stringify(a.payload.user)),localStorage.setItem("auth-token",a.payload.token),localStorage.setItem("login",!0),Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:!0,user:a.payload.user,token:a.payload.token});case"LOGOUT":return localStorage.clear(),Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:!1,user:null});default:return e}},h=t(29),f=t(30),b=t(32),y=t(31),v=t(513),N=t(512),O=t(514),j=t(515),S=t(516),C=t(517),x=t(225),k=t(518),w=t(519),R=t(544),_=t(545),T=t(520),F=t(521),U=t(522),I=function(e){var a=Object(l.useContext)(E),c=a.state,o=a.dispatch,s=Object(l.useState)(""),i=Object(n.a)(s,2),u=i[0],p=i[1];return Object(l.useEffect)((function(){p(c.user.username)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main"},r.a.createElement(v.a,{fluid:!0},r.a.createElement(m.b,{className:"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block",to:"/"},e.brandText),r.a.createElement(O.a,{className:"navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto"},r.a.createElement(j.a,{className:"mb-0"},r.a.createElement(S.a,{className:"input-group-alternative"},r.a.createElement(C.a,{addonType:"prepend"},r.a.createElement(x.a,null,r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement(k.a,{placeholder:"Search",type:"text"})))),r.a.createElement(w.a,{className:"align-items-center d-none d-md-flex",navbar:!0},r.a.createElement(R.a,{nav:!0},r.a.createElement(_.a,{className:"pr-0",nav:!0},r.a.createElement(T.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:t(38)})),r.a.createElement(T.a,{className:"ml-2 d-none d-lg-block"},r.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},u)))),r.a.createElement(F.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(U.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),r.a.createElement(U.a,{to:"/admin/user-profile",tag:m.b},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",null,"My profile")),r.a.createElement(U.a,{divider:!0}),r.a.createElement(U.a,{onClick:function(){localStorage.removeItem("auth-token"),localStorage.setItem("login",!1),localStorage.removeItem("user"),o({type:"LOGOUT"}),e.history.push("/auth/index")}},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Logout"))))))))},G=t(523),L=t(524),A=t(525),P=t(526),D=t(546),H=t(527),M=t(528),J=t(529),W=t(226);var q=function(){var e=Object(l.useState)(!1),a=Object(n.a)(e,2),t=a[0],c=a[1],o=function(){return c(!t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"py-5"},r.a.createElement(v.a,null,r.a.createElement(G.a,{className:"align-items-center justify-content-xl-between"},r.a.createElement(L.a,{xl:"6"},r.a.createElement("div",{className:"copyright text-center text-xl-left text-muted"},"\xa9 2020"," ",r.a.createElement("a",{className:"font-weight-bold ml-1",href:"#",target:"_blank"},"SouSou"))),r.a.createElement(L.a,{xl:"6"},r.a.createElement(w.a,{className:"nav-footer justify-content-center justify-content-xl-end"},r.a.createElement(A.a,null,r.a.createElement(P.a,{href:"#",target:"_blank"},"SouSou")),r.a.createElement(A.a,null,r.a.createElement(P.a,{href:"#",target:"_blank"},"About Us")),r.a.createElement(A.a,null,r.a.createElement(P.a,{onClick:o},"privacy policy")),r.a.createElement(D.a,{isOpen:t,toggle:o},r.a.createElement(H.a,{toggle:o},"Privacy policy"),r.a.createElement(M.a,null,"What information do we collect? We collect information from you when you register on our site. When registering on our site, as appropriate, you may be asked to enter your: name, e-mail address, mailing address, and phone number. What do we use your information for? Any of the information we collect from you may be used in one of the following ways: To personalize your experience (your information helps us to better respond to your individual needs) To improve our website (we continually strive to improve our website offerings based on the information and feedback we receive from you) To improve customer service (your information helps us to more effectively respond to your requests and support needs) To administer a contest, promotion, survey or other site feature Do we disclose any information to outside parties? We do not sell, trade, or otherwise transfer to outside parties your personally identifiable information."),r.a.createElement(J.a,null,r.a.createElement(W.a,{color:"danger",onClick:o},"Close")))))))))},Q=t(102),z=t(530),B=t(230),Y=function(e){Object(b.a)(n,e);var a=Object(y.a)(n);function n(e){var t;return Object(h.a)(this,n),(t=a.call(this,e)).state={collapseOpen:!1},t.toggleCollapse=function(){t.setState({collapseOpen:!t.state.collapseOpen})},t.closeCollapse=function(){t.setState({collapseOpen:!1})},t.logout=function(){console.log("LOGOUT");var e=Object(l.useContext)(p),a=e.userData,t=e.setUserData;console.log("Context State",a),t({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),localStorage.setItem("login",!1)},t.createLinks=function(e){return e.slice(0,4).map((function(e,a){return r.a.createElement(A.a,{key:a},r.a.createElement(P.a,{to:e.layout+e.path,tag:m.c,onClick:t.closeCollapse,activeClassName:"active"},r.a.createElement("i",{className:e.icon}),e.name))}))},t.activeRoute.bind(Object(Q.a)(t)),t}return Object(f.a)(n,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"render",value:function(){var e,a=this.props,n=(a.bgColor,a.routes),l=a.logo;return l&&l.innerLink?e={to:l.innerLink,tag:m.b}:l&&l.outterLink&&(e={href:l.outterLink,target:"_blank"}),r.a.createElement(N.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main"},r.a.createElement(v.a,{fluid:!0},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",{className:"navbar-toggler-icon"})),l?r.a.createElement(z.a,Object.assign({className:"pt-0"},e),r.a.createElement("h1",null,"SouSou")):null,r.a.createElement(w.a,{className:"align-items-center d-md-none"},r.a.createElement(R.a,{nav:!0},r.a.createElement(_.a,{nav:!0,className:"nav-link-icon"},r.a.createElement("i",{className:"ni ni-bell-55"})),r.a.createElement(F.a,{"aria-labelledby":"navbar-default_dropdown_1",className:"dropdown-menu-arrow",right:!0})),r.a.createElement(R.a,{nav:!0},r.a.createElement(_.a,{nav:!0},r.a.createElement(T.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:t(39)})))),r.a.createElement(F.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(U.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),r.a.createElement(U.a,{to:"/admin/user-profile",tag:m.b},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",null,"My profile")),r.a.createElement(U.a,{divider:!0}),r.a.createElement(U.a,{href:"#pablo",onClick:this.logout},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Logout"))))),r.a.createElement(B.a,{navbar:!0,isOpen:this.state.collapseOpen},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(G.a,null,l?r.a.createElement(L.a,{className:"collapse-brand",xs:"6"},l?r.a.createElement(z.a,Object.assign({className:"pt-0"},e),r.a.createElement("h1",null,"SouSou")):null):null,r.a.createElement(L.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement(O.a,{className:"mt-4 mb-3 d-md-none"},r.a.createElement(S.a,{className:"input-group-rounded input-group-merge"},r.a.createElement(k.a,{"aria-label":"Search",className:"form-control-rounded form-control-prepended",placeholder:"Search",type:"search"}),r.a.createElement(C.a,{addonType:"prepend"},r.a.createElement(x.a,null,r.a.createElement("span",{className:"fa fa-search"}))))),r.a.createElement(w.a,{navbar:!0},this.createLinks(n)),r.a.createElement("hr",{className:"my-3"}))))}}]),n}(r.a.Component);Y.defaultProps={routes:[{}]};var K=Y,Z=function(e){Object(b.a)(t,e);var a=Object(y.a)(t);function t(){return Object(h.a)(this,t),a.apply(this,arguments)}return Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8"},r.a.createElement(v.a,{fluid:!0},r.a.createElement("div",{className:"header-body"}))))}}]),t}(r.a.Component),V=t(531),X=t(532),$=t(533),ee=t(101),ae=t.n(ee),te=t(12),ne=t.n(te),le=t(231),re=t.n(le),ce={group:{},isFetching:!1,hasError:!1,paymentSuccess:!1,paymentError:!1},oe=function(e,a){switch(a.type){case"FETCH_GROUPS_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!0,hasError:!1});case"FETCH_GROUPS_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,group:a.payload});case"FETCH_GROUPS_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{hasError:!0,isFetching:!1});default:return e}},se=function(e){var a=Object(l.useReducer)(oe,ce),t=Object(n.a)(a,2),c=(t[0],t[1]),o=Object(l.useState)(),s=Object(n.a)(o,2),m=s[0],i=s[1],u=Object(l.useState)({}),p=Object(n.a)(u,2),d=p[0],g=p[1],h=Object(l.useState)(),f=Object(n.a)(h,2),b=f[0],y=f[1],N=e.match.params.groupId,O=r.a.useContext(E).state,j=O.user?O.user:JSON.parse(localStorage.getItem("user")),S=function(e){console.log("The payment was succeeded!",e);var a={PAYPAL:{paypalEmail:e.email,paid:e.paid,payerID:e.payerID,paymentID:e.paymentID,paymentToken:e.paymentToken,paymentMethod:"paypal",userID:j.id,userEmail:j.email}};console.log("paymentSuccessData: ",a),console.log("user",O.user),ne.a.post("/group/testpayment/".concat(N),a,{headers:{"Content-Type":"application/json","auth-token":R}}).then((function(e){console.log("Payment Successfully Processed",e)})).catch((function(e){console.log("ERROR:>> ",e)}))},C=function(e){console.log("The payment was cancelled!",e)},x=function(e){console.log("Error!",e)},k={sandbox:"AYsJCaZfgj6KHfKlmYrkk5zRi5UdaDd94Ew6PtwfLA2c1JsocatAvZKtcHvUU-VMd1KHVjahJvsOLbnA"},w={label:"pay",tagline:!1,size:"medium",shape:"pill",color:"gold",height:50},R=O.token?O.token:localStorage.getItem("auth-token");return Object(l.useEffect)((function(){var a=JSON.parse(localStorage.getItem("user"));a||e.history.push("/auth/login");JSON.stringify({memberID:a.id});c({type:"FETCH_GROUPS_REQUEST"}),ne.a.post("/group/get-group/".concat(N),{memberID:a.id},{headers:{"Content-Type":"application/json","auth-token":R}}).then((function(e){console.log("Group DATA Successfully received: ",e.data.group),c({type:"FETCH_GROUPS_SUCCESS",payload:e.data.group}),g(e.data.group),y(parseInt(e.data.group.payment_frequency))})).catch((function(e){console.log("ERROR:>> ",e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null),r.a.createElement(v.a,{className:"mt--9",fluid:!0},r.a.createElement(V.a,{className:"shadow border-0"},r.a.createElement("div",{className:"card"},r.a.createElement(X.a,{className:"card-header"},r.a.createElement("center",null,console.log("groupData",d),r.a.createElement("h1",null,d.title)),r.a.createElement("div",{className:"row justify-content-end mr-7"},d.members?function(){var e=d.cycle_status.length-1;return d.members.length<d.members_limit?r.a.createElement("h3",null,"GROUP NOT FULL"):d.cycle_status[e].payment_arrived.includes(j.id)?r.a.createElement("h3",null,"Paid for the current cycle"):r.a.createElement(re.a,{env:"sandbox",client:k,currency:"USD",total:b,locale:"en_US",style:w,shipping:1,onError:x,onSuccess:S,onCancel:C})}():"")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row justify-content-center mb-4"},r.a.createElement("div",{className:"col-lg-9 col-sm-12 mt-4 row"},r.a.createElement("input",{className:"col-lg-9 mr-4",type:"text",readonly:!0,value:"https://www.helpingourhands.com/joingroup/".concat(j.id,"/").concat(N),onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{type:"submit",onClick:function(){ae()(m,{debug:!0,message:"Press #{key} to copy"}),console.log(m)},className:"col-2 btn btn-success"},"Copy invite Link"))),r.a.createElement("div",{className:"row justify-content-center mb-4"},r.a.createElement("div",{className:"col-lg-6 col-sm-12"},r.a.createElement("h2",null,"Members List"),r.a.createElement($.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"))),r.a.createElement("tbody",null,d.members?d.members.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},r.a.createElement(T.a,{className:"align-items-center"},r.a.createElement(T.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},"".concat(e.first_name," ").concat(e.last_name))))),r.a.createElement("td",null,e.email)))})):r.a.createElement("tr",null,"NO DATA")))),r.a.createElement("div",{className:"col-lg-6 col-sm-12"},r.a.createElement("h2",null,"Group Details"),r.a.createElement($.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Limit"),r.a.createElement("th",{scope:"col"},"Joined"),r.a.createElement("th",{scope:"col"},"Installment"),r.a.createElement("th",{scope:"col"},"Payment Cycle"))),r.a.createElement("tbody",null,O.isFetching?r.a.createElement("tr",null,"LOADING..."):O.hasError?r.a.createElement("tr",null,"ERROR..."):r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement(T.a,{className:"align-items-center"},r.a.createElement(T.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},console.log("groups:: ",O.group),"".concat(d.members_limit," "))))),r.a.createElement("td",null,d.members?d.members.length:"0"),r.a.createElement("td",null,d.payment_frequency),r.a.createElement("td",null,d.payment_cycle)))))))))))},me=t(18),ie=t.n(me),ue=t(37);t(5),t(60),t(293);var pe=function(e){var a=e.totalposts,t=e.paginate,n=e.totalusers,l=[];if(a)for(var c=1;c<=Math.ceil(a/10);c++)l.push(c);else for(var o=1;o<=Math.ceil(n/10);o++)l.push(o);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},l.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("a",{onClick:function(){return t(e)},className:"page-link"},e))}))))},Ee=(t(294),t(534)),de=function(e,a){switch(a.type){case"FETCH_GROUPS_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!0,hasError:!1});case"FETCH_GROUPS_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,groups:a.payload});case"FETCH_GROUPS_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{hasError:!0,isFetching:!1});default:return e}},ge=function(e,a){switch(a.type){case"FETCH_USERS_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!0,hasError:!1});case"FETCH_USERS_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,users:a.payload});case"FETCH_USERS_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{hasError:!0,isFetching:!1});default:return e}},he={groups:[],isFetching:!1,hasError:!1},fe={users:[],isFetching:!1,hasError:!1};var be=function(){var e,a=r.a.useContext(E).state,t=Object(l.useState)(1),c=Object(n.a)(t,2),o=c[0],s=(c[1],Object(l.useState)(1)),i=Object(n.a)(s,2),u=i[0],p=i[1],d=Object(l.useState)([]),g=Object(n.a)(d,2),h=g[0],f=g[1],b=Object(l.useState)([]),y=Object(n.a)(b,2),N=y[0],O=y[1],j=Object(l.useState)(),S=Object(n.a)(j,2),C=S[0],x=S[1],k=r.a.useReducer(ge,fe),w=Object(n.a)(k,2),R=w[0],_=w[1],F=r.a.useReducer(de,he),U=Object(n.a)(F,2),I=U[0],A=U[1],P=a.user,D=a.token,H=null===(e=a.user)||void 0===e?void 0:e.id,M={role:P.role,id:H};return Object(l.useEffect)((function(){"admin"===a.user.role&&function(){var e=Object(ue.a)(ie.a.mark((function e(){var a,t,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _({type:"FETCH_USERS_REQUEST"}),e.next=3,ne.a.post("users/".concat(u),M,{headers:{"Content-Type":"application/json","auth-token":D}});case 3:a=e.sent,_({type:"FETCH_USERS_SUCCESS",payload:a.data}),t=a.data.users,n=a.data.total_users,x(n),f(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[u]),Object(l.useEffect)((function(){"admin"===a.user.role?function(){var e=Object(ue.a)(ie.a.mark((function e(){var a,t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A({type:"FETCH_GROUPS_REQUEST"}),e.next=3,ne.a.post("groups/".concat(o),M,{headers:{"Content-Type":"application/json","auth-token":D}});case 3:a=e.sent,A({type:"FETCH_GROUPS_SUCCESS",payload:a}),t=a.data.groups,O(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():function(){var e=Object(ue.a)(ie.a.mark((function e(){var a,t;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A({type:"FETCH_GROUPS_REQUEST"}),e.next=3,ne.a.get("/group/get/".concat(H),{headers:{"Content-Type":"application/json","auth-token":D}});case 3:a=e.sent,A({type:"FETCH_GROUPS_SUCCESS",payload:a}),t=a.data.Groups,O(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null),r.a.createElement(v.a,{className:"mt--7",fluid:!0},"admin"===a.user.role?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{className:"mt-5"},r.a.createElement(L.a,{className:"mb-5 mb-xl-0",xl:"6"},r.a.createElement(V.a,{className:"shadow"},r.a.createElement(X.a,{className:"border-0"},r.a.createElement(G.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"mb-0"},"Active Groups")),r.a.createElement("div",{className:"col text-right"},r.a.createElement(m.b,{to:"/admin/group",color:"primary",size:"sm"},"See all")))),r.a.createElement($.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Target"),r.a.createElement("th",{scope:"col"},"Members"))),I.isFetching?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,r.a.createElement("td",null,"LOADING..."))):I.hasError?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,"AN ERROR HAS OCCURED")):0===I.groups.length?r.a.createElement("tbody",null,"No Groups Found"):r.a.createElement("tbody",null,null===N||void 0===N?void 0:N.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},r.a.createElement(T.a,{className:"align-items-center"},r.a.createElement(T.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},r.a.createElement(m.b,{to:"/group/".concat(e._id)},e.title))))),r.a.createElement("td",null,e.target_amount),r.a.createElement("td",null,r.a.createElement("div",{className:"avatar-group"},"".concat(e.members.length," / ").concat(e.members_limit))))})))))),r.a.createElement(L.a,{className:"",xl:"6"},r.a.createElement(X.a,{className:"shadow"},r.a.createElement(X.a,{className:"border-0"},r.a.createElement(G.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"mb-0"},"All Users")),r.a.createElement("div",{className:"col text-right"},r.a.createElement(W.a,{color:"primary",href:"",onClick:function(e){return e.preventDefault()},size:"sm"},"See all")))),r.a.createElement($.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Role"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"}))),R.isFetching?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,r.a.createElement("td",null,"LOADING..."))):R.hasError?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,"AN ERROR HAS OCCURED")):0===R.users.length?r.a.createElement("tbody",null,"No Users Found"):r.a.createElement("tbody",null,null===h||void 0===h?void 0:h.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},e.username),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.role),r.a.createElement("td",null,e.status))}))))),r.a.createElement(Ee.a,{className:"py-4"},r.a.createElement(pe,{totalusers:C,paginate:function(e){console.log(e),p(e)}}))))):r.a.createElement(G.a,{className:"mt-5"},r.a.createElement(L.a,{className:"mb-5 mb-xl-0",xl:"8"},r.a.createElement(V.a,{className:"shadow"},r.a.createElement(X.a,{className:"border-0"},r.a.createElement(G.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"mb-0"},"Active Groups")),r.a.createElement("div",{className:"col text-right"},r.a.createElement(W.a,{color:"primary",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"See all")))),r.a.createElement($.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Target"),r.a.createElement("th",{scope:"col"},"Members"))),I.isFetching?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,r.a.createElement("td",null,"LOADING..."))):I.hasError?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,"AN ERROR HAS OCCURED")):0===I.groups.length?r.a.createElement("tbody",null,console.log("NO GROUPS: ",I.groups.length),"No Groups Found"):r.a.createElement("tbody",null,N.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},r.a.createElement(T.a,{className:"align-items-center"},r.a.createElement(T.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},r.a.createElement(m.b,{to:"/group/".concat(e._id)},e.title))))),r.a.createElement("td",null,e.target_amount),r.a.createElement("td",null,r.a.createElement("div",{className:"avatar-group"},"".concat(e.members.length," / ").concat(e.members_limit))))})))))),r.a.createElement(L.a,{xl:"4"}))))},ye=(t(183),function(){var e=Object(l.useState)(),a=Object(n.a)(e,2),t=a[0],c=a[1],o=Object(l.useState)(),s=Object(n.a)(o,2),m=s[0],i=s[1],u=Object(l.useState)(),p=Object(n.a)(u,2),E=p[0],d=p[1],g=Object(l.useState)(),h=Object(n.a)(g,2),f=h[0],b=h[1],y=Object(l.useState)(),N=Object(n.a)(y,2),O=N[0],j=N[1],S=Object(l.useState)(),C=Object(n.a)(S,2),x=C[0],k=C[1];return Object(l.useEffect)((function(){}),[x]),r.a.createElement("div",null,r.a.createElement(Z,null),r.a.createElement(v.a,{className:"mt--7",fluid:!0},r.a.createElement(G.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(V.a,{className:"shadow border-0"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("center",null,r.a.createElement("h2",null,"Enter Group Details"))),r.a.createElement("div",{className:"row justify-content-center mb-4"},r.a.createElement("div",{className:"col-9 mt-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Group Title",onChange:function(e){return c(e.target.value)},className:"form-control",id:"title"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",placeholder:"Members Limit",onChange:function(e){return i(e.target.value)},className:"form-control",id:"members"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",placeholder:"Payment Frequency",onChange:function(e){return b(e.target.value)},className:"form-control",id:"frequency"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",placeholder:"Target Amount",onChange:function(e){return d(e.target.value)},className:"form-control",id:"target"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Payment Interval",onChange:function(e){return j(e.target.value)},className:"form-control",id:"interval"})),r.a.createElement("button",{id:"add",type:"submit",onClick:function(){var e,a,n=JSON.parse(localStorage.getItem("user"));n&&(e=n.id,a=n.id,console.log(e));var l={title:t,members:a,members_limit:m,target_amount:E,payment_frequency:f,payment_cycle:O,created_by:e};try{var r=localStorage.getItem("auth-token");console.log(r),ne.a.post("/group/create",l,{headers:{"Content-Type":"application/json","auth-token":r}}).then((function(e){console.log("Group Created Successfully",e),k(!0)})).catch((function(e){console.log("ERROR:>> ",e),e.response.data.error&&console.log({"ERROR: ":e,"ERROR MESSAGE: ":e.response.data.error.message,"ERROR TITLE: ":e.response.data.error.errors.title.message,"ERROR KIND: ":e.response.data.error.errors.title.kind,"ERROR NAME: ":e.response.data.error.errors.title.name,"ERROR PATH":e.response.data.error.errors.title.path})}))}catch(c){console.log("ERROR CREATING GROUP: ",c)}},className:"btn btn-primary"},"Add"),r.a.createElement("div",null,x?r.a.createElement("div",{className:"success"},"Group Successfully Created"):r.a.createElement("div",null))))))))))}),ve=t(535),Ne=t(536),Oe=t(537),je=(t(507),t(376),t(56));t(184);je.a.configure();var Se={groups:[],isFetching:!1,hasError:!1},Ce=function(e,a){switch(a.type){case"FETCH_GROUPS_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!0,hasError:!1});case"FETCH_GROUPS_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,groups:a.payload});case"FETCH_GROUPS_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{hasError:!0,isFetching:!1});default:return e}},xe={groupId:null,title:"",membersLimit:""},ke=function(){var e=Object(l.useState)(xe),a=Object(n.a)(e,2),t=a[0],c=a[1],o=Object(l.useState)([]),s=Object(n.a)(o,2),i=s[0],p=s[1],d=r.a.useReducer(Ce,Se),g=Object(n.a)(d,2),h=g[0],f=g[1],b=r.a.useContext(E).state,y=Object(l.useState)(!1),N=Object(n.a)(y,2),O=N[0],j=N[1],S=function(){return j(!O)},C=Object(l.useState)(1),x=Object(n.a)(C,2),w=x[0],I=x[1],L=Object(l.useState)(),A=Object(n.a)(L,2),P=A[0],q=A[1],Q=function(e){c(Object(u.a)(Object(u.a)({},t),{},{[e.target.name]:e.target.value}))},z=function(){var e=Object(ue.a)(ie.a.mark((function e(a){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("GROUP ID:::>>> ",a),window.confirm("are you sure")){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ne.a.delete("/group/delete-group/".concat(a),{headers:{"Content-Type":"application/json","auth-token":b.token}}).then((function(e){je.a.info("Group Deleted!!"),window.location.reload()})).catch((function(e){console.log("ERROR: DELETING: ",e),je.a.error("ERROR!! Deleting Group")}));case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){var e;f({type:"FETCH_GROUPS_REQUEST"});var a=b.user,t=b.token,n=null===(e=b.user)||void 0===e?void 0:e.id,l={role:a.role,id:n};"admin"===b.user.role?function(){var e=Object(ue.a)(ie.a.mark((function e(){var a,n,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f({type:"FETCH_GROUPS_REQUEST"}),e.next=3,ne.a.post("/admin/groups/".concat(w),l,{headers:{"Content-Type":"application/json","auth-token":t}});case 3:a=e.sent,f({type:"FETCH_GROUPS_SUCCESS",payload:a}),n=a.data.total_groups,q(n),r=a.data.groups,p(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():ne.a.get("/group/get/".concat(n),{headers:{"Content-Type":"application/json","auth-token":t}}).then((function(e){return p(e.data.Groups),e})).then((function(e){console.log(e),f({type:"FETCH_GROUPS_SUCCESS",payload:e})})).catch((function(e){console.log(e.request),f({type:"FETCH_GROUPS_FAILURE"})}))}),[w]),r.a.createElement("div",null,r.a.createElement(Z,null),r.a.createElement(v.a,{className:"mt--7",fluid:!0},r.a.createElement(G.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(V.a,{className:"shadow"},r.a.createElement(X.a,{className:"border-0"},r.a.createElement("h3",{className:"mb-0"},"Groups")),r.a.createElement($.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Target"),r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"},"Members"),r.a.createElement("th",{scope:"col"},"Completion"),r.a.createElement("th",{scope:"col"}))),h.isFetching?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,r.a.createElement("td",null,"LOADING..."))):h.hasError?r.a.createElement("tbody",{className:"card"},r.a.createElement("tr",null,"AN ERROR HAS OCCURED")):0===h.groups.length?r.a.createElement("tbody",null,console.log("NO GROUPS: ",h.groups.length),"No Groups Found"):r.a.createElement("tbody",null,null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},r.a.createElement(T.a,{className:"align-items-center"},r.a.createElement(T.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},r.a.createElement(m.b,{to:"/group/".concat(e._id)},e.title))))),r.a.createElement("td",null,e.target_amount),r.a.createElement("td",null,r.a.createElement(ve.a,{color:"",className:"badge-dot mr-4"},r.a.createElement("i",{className:"bg-warning"}),"pending")),r.a.createElement("td",null,r.a.createElement("div",{className:"avatar-group"},"".concat(e.members.length," / ").concat(e.members_limit))),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"mr-2"},Math.ceil(e.members.length/e.members_limit*100)," %"),r.a.createElement("div",null,r.a.createElement(Ne.a,{max:"100",value:Math.ceil(e.members.length/e.members_limit*100),barClassName:"bg-danger"})))),0==(null===e||void 0===e?void 0:e.cycle_status.length)&&b.user.id==e.created_by?r.a.createElement("td",{className:"text-right"},r.a.createElement(R.a,null,r.a.createElement(_.a,{className:"btn-icon-only text-light",href:"#pablo",role:"button",size:"sm",color:"",onClick:function(e){return e.preventDefault()}},r.a.createElement("i",{className:"fas fa-ellipsis-v"})),r.a.createElement(F.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(U.a,{onClick:function(){return a=e._id,c(Object(u.a)(Object(u.a)({},t),{},{groupId:a,userID:b.user.id})),void S();var a}},"Edit"),r.a.createElement(U.a,{onClick:function(){return z(e._id)}},"Delete"),r.a.createElement(D.a,{isOpen:O,toggle:S},r.a.createElement(H.a,{toggle:S},"Edit Group Settings"),r.a.createElement(M.a,null,r.a.createElement(Oe.a,null,"Title"),r.a.createElement(k.a,{name:"title",type:"text",value:t.title,onChange:Q}),r.a.createElement(Oe.a,null,"Members Limit"),r.a.createElement(k.a,{name:"membersLimit",type:"number",onChange:Q,value:t.membersLimit})," ",r.a.createElement(Oe.a,null,"Payment Frequency"),r.a.createElement(k.a,{name:"paymentfrequency",type:"number",value:t.paymentfrequency,onChange:Q}),r.a.createElement(Oe.a,null,"Target Amount"),r.a.createElement(k.a,{name:"targetAmount",type:"number",value:t.targetAmount,onChange:Q}),r.a.createElement(Oe.a,null,"Payment Interval"),r.a.createElement(k.a,{name:"paymentInterval",type:"text",value:t.paymentInterval,onChange:Q}),r.a.createElement("div",{className:"form-group"})),r.a.createElement(J.a,null,r.a.createElement(W.a,{color:"primary",onClick:function(){return S(),void ne.a.post("/group/update/".concat(t.groupId),t,{headers:{"Content-Type":"application/json","auth-token":b.token}}).then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}))}},"Save Settings")," ",r.a.createElement(W.a,{color:"secondary",onClick:S},"Cancel")))))):r.a.createElement("td",null))})))),r.a.createElement(Ee.a,{className:"py-4"},r.a.createElement(pe,{totalposts:P,paginate:function(e){console.log(e),I(e)}})))))))},we=t(538),Re=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center",style:{minHeight:"600px"}},r.a.createElement("span",{className:"mask bg-gradient-default opacity-8"}),r.a.createElement(v.a,{className:"d-flex align-items-center",fluid:!0},r.a.createElement(G.a,null,r.a.createElement(L.a,{lg:"12",md:"12"},r.a.createElement("h2",{className:"display-2 text-white"},"Hello ".concat(e.nameTitle)),r.a.createElement("p",{className:"text-white mt-0 mb-5"},"This is your profile page. You can see and edit your details here"))))))};je.a.configure();var _e=function(){var e=Object(l.useState)({}),a=Object(n.a)(e,2),t=a[0],c=a[1],o=Object(l.useState)(!0),s=Object(n.a)(o,2),m=s[0],i=s[1],p=Object(l.useState)(!1),d=Object(n.a)(p,2),g=d[0],h=d[1],f=r.a.useContext(E).state,b={headers:{"Content-Type":"application/json","auth-token":localStorage.getItem("auth-token")||null}},y=function(e){c(Object(u.a)(Object(u.a)({},t),{},{[e.target.name]:e.target.value}))};return Object(l.useEffect)((function(){console.log("Profile");var e=f.user;ne.a.get("/users/find-user/".concat(e.id),b).then((function(e){console.log("Profile: ",e),c({email:e.data.email,first_name:e.data.first_name,last_name:e.data.last_name,username:e.data.username}),i(!1)})).catch((function(e){console.log("Got an error: ",e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Re,{nameTitle:m?"":t.first_name}),r.a.createElement(v.a,{className:"mt--7",fluid:!0},r.a.createElement(G.a,null,r.a.createElement(L.a,{className:"order-xl-2 mb-5 mb-xl-0",xl:"4"},r.a.createElement(V.a,{className:"card-profile shadow"},r.a.createElement(G.a,{className:"justify-content-center"},r.a.createElement(L.a,{className:"order-lg-2",lg:"3"})),r.a.createElement(X.a,{className:"text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4"}),r.a.createElement(we.a,{className:"pt-0 pt-md-4"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",null,"".concat(t.first_name," ").concat(t.last_name)),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",null,r.a.createElement("i",{className:"ni education_hat mr-2"}),"".concat(t.email)))))),r.a.createElement(L.a,{className:"order-xl-1",xl:"8"},r.a.createElement(V.a,{className:"bg-secondary shadow"},r.a.createElement(X.a,{className:"bg-white border-0"},r.a.createElement(G.a,{className:"align-items-center"},r.a.createElement(L.a,{xs:"8"},r.a.createElement("h3",{className:"mb-0"},"My account")),r.a.createElement(L.a,{className:"text-right",xs:"4"},g?r.a.createElement(r.a.Fragment,null):r.a.createElement(W.a,{color:"primary",onClick:function(e){return h(!0)},size:"sm"},"Edit Profile")))),r.a.createElement(we.a,null,r.a.createElement(O.a,{onSubmit:function(e){return e.preventDefault}},r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"User information"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(G.a,null,r.a.createElement(L.a,{lg:"6"},r.a.createElement(j.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-username"},"Username"),r.a.createElement(k.a,{type:"text",readOnly:!0,className:"form-control-alternative",value:"".concat(t.username||""),id:"input-username",placeholder:"".concat(t.username),name:"username"}))),r.a.createElement(L.a,{lg:"6"},r.a.createElement(j.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-email"},"Email address"),r.a.createElement(k.a,Object.assign({className:"form-control-alternative",id:"input-email",name:"email",value:t.email||""},g?{onChange:y}:{readOnly:!0},{placeholder:"".concat(t.email),type:"email"}))))),r.a.createElement(G.a,null,r.a.createElement(L.a,{lg:"6"},r.a.createElement(j.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-first-name"},"First name"),r.a.createElement(k.a,Object.assign({className:"form-control-alternative",value:"".concat(t.first_name||"")},g?{onChange:y}:{readOnly:!0},{id:"input-first-name",placeholder:"First name",type:"text",name:"first_name"})))),r.a.createElement(L.a,{lg:"6"},r.a.createElement(j.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Last name"),r.a.createElement(k.a,Object.assign({className:"form-control-alternative",value:"".concat(t.last_name||"")},g?{onChange:y}:{readOnly:!0},{id:"input-last-name",placeholder:"Last name",type:"text",name:"last_name"})))))),g?r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",{className:"my-4"}),r.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),console.log(t),ne.a.post("/users/update/".concat(f.user.id),t,b).then((function(e){console.log("SUCCESSFULLY UPDATED: ",e),je.a.success("SUCCESSFULLY UPDATED",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),h(!1)})).catch((function(e){je.a.error("Error! Updating",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},className:" btn btn-success"},"Save Profile")):r.a.createElement(r.a.Fragment,null))))))))},Te=t(79),Fe=Object(Te.withScriptjs)(Object(Te.withGoogleMap)((function(e){return r.a.createElement(Te.GoogleMap,{defaultZoom:12,defaultCenter:{lat:40.748817,lng:-73.985428},defaultOptions:{scrollwheel:!1,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#5e72e4"},{visibility:"on"}]}]}},r.a.createElement(Te.Marker,{position:{lat:40.748817,lng:-73.985428}}))})));r.a.Component;var Ue=function(){var e=Object(l.useState)(),a=Object(n.a)(e,2),t=a[0],c=a[1],o=Object(l.useState)(),s=Object(n.a)(o,2),m=s[0],i=s[1],u=Object(l.useState)(),p=Object(n.a)(u,2),d=p[0],g=p[1],h=Object(l.useState)(),f=Object(n.a)(h,2),b=f[0],y=f[1],v=Object(l.useState)(),N=Object(n.a)(v,2),w=N[0],R=N[1],_=Object(l.useState)(!1),T=Object(n.a)(_,2),F=T[0],U=T[1],I=Object(l.useContext)(E),G=(I.state,I.dispatch),A=function(){var e=Object(ue.a)(ie.a.mark((function e(a){var n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={first_name:t,last_name:m,username:d,password:b,email:w},e.next=4,ne.a.post("/api/auth/register",n).then((function(e){console.log("Registered Successfully",e),U(!0),ne.a.post("/api/auth/login",{email:w,password:b}).then((function(e){console.log("LoggedIn",e);var a=e.data.user,t=e.data.token;G({type:"LOGIN",payload:{user:a,token:t}})})).catch((function(e){return console.log("Error LoggingIn ",e)}))})).catch((function(e){return console.log("Error signing up",e)}));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{lg:"6",md:"8"},r.a.createElement(V.a,{className:"bg-secondary shadow border-0"},r.a.createElement(X.a,{className:"bg-transparent pb-5"},r.a.createElement("div",{className:"text-muted text-center mt-2 mb-4"},r.a.createElement("h1",{className:"display-4"},"Register"))),r.a.createElement(we.a,{className:"px-lg-5 py-lg-5"},r.a.createElement(O.a,{role:"form"},r.a.createElement(j.a,null,r.a.createElement(S.a,{className:"input-group-alternative mb-3"},r.a.createElement(C.a,{addonType:"prepend"},r.a.createElement(x.a,null,r.a.createElement("i",{className:"ni ni-hat-3"}))),r.a.createElement(k.a,{name:"firstName",placeholder:"First Name",type:"text",onChange:function(e){return c(e.target.value)}}))),r.a.createElement(j.a,null,r.a.createElement(S.a,{className:"input-group-alternative mb-3"},r.a.createElement(C.a,{addonType:"prepend"},r.a.createElement(x.a,null,r.a.createElement("i",{className:"ni ni-hat-3"}))),r.a.createElement(k.a,{name:"lastName",placeholder:"Last Name",type:"text",onChange:function(e){return i(e.target.value)}}))),r.a.createElement(j.a,null,r.a.createElement(S.a,{className:"input-group-alternative mb-3"},r.a.createElement(C.a,{addonType:"prepend"},r.a.createElement(x.a,null,r.a.createElement("i",{className:"ni ni-hat-3"}))),r.a.createElement(k.a,{name:"username",placeholder:"User Name",type:"text",onChange:function(e){return g(e.target.value)}}))),r.a.createElement(j.a,null,r.a.createElement(S.a,{className:"input-group-alternative mb-3"},r.a.createElement(C.a,{addonType:"prepend"},r.a.createElement(x.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(k.a,{name:"email",placeholder:"Email",type:"email",onChange:function(e){return R(e.target.value)},autoComplete:"new-email"}))),r.a.createElement(j.a,null,r.a.createElement(S.a,{className:"input-group-alternative"},r.a.createElement(C.a,{addonType:"prepend"},r.a.createElement(x.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(k.a,{placeholder:"Password",type:"password",onChange:function(e){return y(e.target.value)},autoComplete:"new-password"}))),r.a.createElement("div",{className:"text-muted font-italic"},r.a.createElement("small",null,"password strength:"," ",r.a.createElement("span",{className:"text-success font-weight-700"},"strong"))),r.a.createElement("div",{className:"text-center"},r.a.createElement(W.a,{className:"mt-4",color:"primary",type:"button",onClick:A},"Create account")),F?r.a.createElement("div",{className:"success"},"Successfully Registered"):r.a.createElement("div",null))))))},Ie=function(e,a,t){return ne.a.post("/api/auth/login",e).then((function(e){return a(e.data.token,!0,e.data.user),e})).then((function(e){var a=e.data.user,n=e.data.token;t({type:"LOGIN",payload:{user:a,token:n}}),console.log(d)})).catch((function(e){console.log("Got an error: ",e)}))};var Ge=function(e){var a=Object(l.useContext)(E),t=a.state,c=a.dispatch,o=Object(l.useState)({email:"",password:"",isSubmitting:!1,errorMessage:null}),s=Object(n.a)(o,2),i=s[0],p=s[1],d=function(e){p(Object(u.a)(Object(u.a)({},i),{},{[e.target.name]:e.target.value}))},g=function(){var a=Object(ue.a)(ie.a.mark((function a(t){var n;return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),p(Object(u.a)(Object(u.a)({},i),{},{isSubmitting:!0,errorMessage:null})),n={email:i.email,password:i.password},Ie(n,function(){var a=Object(ue.a)(ie.a.mark((function a(t,n,l){return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.history.push("/admin/index");case 1:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}(),c);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(l.useEffect)((function(){t.isAuthenticated&&e.history.push("/admin/index")}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{lg:"5",md:"7"},r.a.createElement(V.a,{className:"bg-secondary shadow border-0"},r.a.createElement(X.a,{className:"bg-transparent pb-5"},r.a.createElement("div",{className:"text-muted text-center mt-2 mb-3"},r.a.createElement("h1",{className:"display-4"},"Welcome Back"))),r.a.createElement(we.a,{className:"px-lg-5 py-lg-5"},r.a.createElement(O.a,{role:"form"},r.a.createElement(j.a,{className:"mb-3"},r.a.createElement(S.a,{className:"input-group-alternative"},r.a.createElement(C.a,{addonType:"prepend"},r.a.createElement(x.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(k.a,{placeholder:"Email",name:"email",value:i.email,onChange:d,type:"email",autoComplete:"new-email"}))),r.a.createElement(j.a,null,r.a.createElement(S.a,{className:"input-group-alternative"},r.a.createElement(C.a,{addonType:"prepend"},r.a.createElement(x.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(k.a,{placeholder:"Password",name:"password",value:i.password,onChange:d,type:"password",autoComplete:"new-password"}))),r.a.createElement("div",{className:"text-center"},!0===(null===i||void 0===i?void 0:i.isSubmitting)?"...Signing In":r.a.createElement(W.a,{className:"my-4",color:"primary",type:"button",onClick:g},"Sign in"),t.isAuthenticated?r.a.createElement("div",{className:"success"},"Successfully Loggedin"):r.a.createElement("div",null))))),r.a.createElement(G.a,{className:"mt-3"},r.a.createElement(L.a,{xs:"6"},r.a.createElement(m.b,{to:"/reset-password",className:"text-light"},r.a.createElement("small",null,"Forgot password?"))),r.a.createElement(L.a,{className:"text-right",xs:"6"},r.a.createElement(m.b,{to:"/auth/register",className:"text-light"},r.a.createElement("small",null,"Create new account"))))))},Le=t(543),Ae=t(539),Pe=t(540),De=t(541),He=(r.a.Component,t(4)),Me=(r.a.Component,[{path:"/index",name:"Dashboard",icon:"ni ni-tv-2 text- primary",component:be,layout:"/admin"},{path:"/create-group",name:"Create Group",icon:"ni ni-tv-2 text-primary",component:ye,layout:"/admin"},{path:"/group",name:"Groups",icon:"ni ni-tv-2 text-primary",component:ke,layout:"/admin"},{path:"/user-profile",name:"User Profile",icon:"ni ni-single-02 text-yellow",component:_e,layout:"/admin"},{path:"/login",name:"Login",icon:"ni ni-key-25 text-info",component:Ge,layout:"/auth"},{path:"/register",name:"Register",icon:"ni ni-circle-08 text-pink",component:Ue,layout:"/auth"}]),Je=function(e){Object(b.a)(n,e);var a=Object(y.a)(n);function n(){var e;Object(h.a)(this,n);for(var t=arguments.length,l=new Array(t),c=0;c<t;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).getRoutes=function(e){return e.map((function(e,a){return"/admin"===e.layout?r.a.createElement(i.b,{path:e.layout+e.path,component:e.component,key:a}):null}))},e.getBrandText=function(a){for(var t=0;t<Me.length;t++)if(-1!==e.props.location.pathname.indexOf(Me[t].layout+Me[t].path))return Me[t].name;return"Brand"},e}return Object(f.a)(n,[{key:"componentDidUpdate",value:function(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,Object.assign({},this.props,{routes:Me,logo:{innerLink:"/admin/index",imgSrc:t(502),imgAlt:"..."}})),r.a.createElement("div",{className:"main-content",ref:"mainContent"},r.a.createElement(I,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),r.a.createElement(i.d,null,this.getRoutes(Me),r.a.createElement(i.a,{from:"*",to:"/admin/index"})),r.a.createElement(v.a,{fluid:!0},r.a.createElement(q,null))))}}]),n}(r.a.Component),We=t(542),qe=function(){var e=Object(l.useContext)(E).state;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{className:"navbar-top navbar-horizontal navbar-dark",expand:"md"},r.a.createElement(v.a,{className:"px-4"},r.a.createElement(z.a,{to:"/",tag:m.b},"SouSou"),r.a.createElement("button",{className:"navbar-toggler",id:"navbar-collapse-main"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(We.a,{navbar:!0,toggler:"#navbar-collapse-main"},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(G.a,null,r.a.createElement(L.a,{className:"collapse-brand",xs:"6"},r.a.createElement(m.b,{to:"/"},r.a.createElement("h1",null,"SouSou"))),r.a.createElement(L.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",id:"navbar-collapse-main"},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement(w.a,{className:"ml-auto",navbar:!0},e.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(P.a,{className:"nav-link-icon",to:"/admin/index",tag:m.b},r.a.createElement("i",{className:"ni ni-planet"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Dashboard"))),r.a.createElement(A.a,null,r.a.createElement(P.a,{className:"nav-link-icon",to:"/admin/user-profile",tag:m.b},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Profile")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null,r.a.createElement(P.a,{className:"nav-link-icon",to:"/auth/register",tag:m.b},r.a.createElement("i",{className:"ni ni-circle-08"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Register"))),r.a.createElement(A.a,null,r.a.createElement(P.a,{className:"nav-link-icon",to:"/auth/login",tag:m.b},r.a.createElement("i",{className:"ni ni-key-25"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Login")))))))))};var Qe=function(){var e=Object(l.useState)(!1),a=Object(n.a)(e,2),t=a[0],c=a[1],o=function(){return c(!t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"py-5"},r.a.createElement(v.a,null,r.a.createElement(G.a,{className:"align-items-center justify-content-xl-between"},r.a.createElement(L.a,{xl:"6"},r.a.createElement("div",{className:"copyright text-center text-xl-left text-muted"},"\xa9 2020"," ",r.a.createElement("a",{className:"font-weight-bold ml-1",href:"#",target:"_blank"},"SouSou"))),r.a.createElement(L.a,{xl:"6"},r.a.createElement(w.a,{className:"nav-footer justify-content-center justify-content-xl-end"},r.a.createElement(A.a,null,r.a.createElement(P.a,{href:"#",target:"_blank"},"SouSou")),r.a.createElement(A.a,null,r.a.createElement(P.a,{href:"#",target:"_blank"},"About Us")),r.a.createElement(A.a,null,r.a.createElement(P.a,{href:"#",onClick:o},"privacy policy")),r.a.createElement(D.a,{isOpen:t,toggle:o},r.a.createElement(H.a,{toggle:o},"SouSou Privacy policy"),r.a.createElement(M.a,null,"What information do we collect? We collect information from you when you register on our site. When registering on our site, as appropriate, you may be asked to enter your: name, e-mail address, mailing address, and phone number. What do we use your information for? Any of the information we collect from you may be used in one of the following ways: To personalize your experience (your information helps us to better respond to your individual needs) To improve our website (we continually strive to improve our website offerings based on the information and feedback we receive from you) To improve customer service (your information helps us to more effectively respond to your requests and support needs) To administer a contest, promotion, survey or other site feature Do we disclose any information to outside parties? We do not sell, trade, or otherwise transfer to outside parties your personally identifiable information."),r.a.createElement(J.a,null,r.a.createElement(W.a,{color:"danger",onClick:o},"Close")))))))))},ze=function(e){Object(b.a)(t,e);var a=Object(y.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).getRoutes=function(e){return e.map((function(e,a){return"/auth"===e.layout?r.a.createElement(i.b,{path:e.layout+e.path,component:e.component,key:a}):null}))},e}return Object(f.a)(t,[{key:"componentDidMount",value:function(){document.body.classList.add("bg-default")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("bg-default")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-content"},r.a.createElement(qe,null),r.a.createElement("div",{className:"header bg-gradient-info py-7 py-lg-8"},r.a.createElement("div",{className:"separator separator-bottom separator-skew zindex-100"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0"},r.a.createElement("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})))),r.a.createElement(v.a,{className:"mt--8 pb-5"},r.a.createElement(G.a,{className:"justify-content-center"},r.a.createElement(i.d,null,this.getRoutes(Me),r.a.createElement(i.a,{from:"*",to:"/auth/login"}))))),r.a.createElement(Qe,null))}}]),t}(r.a.Component);t(503);var Be=function(){var e=Object(i.g)();return r.a.createElement("div",{class:"homepage"},r.a.createElement("div",{className:"color_overlay"}),r.a.createElement(qe,null),r.a.createElement("div",{className:"home__content"},r.a.createElement("h1",null,"SouSou"),r.a.createElement("span",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."),r.a.createElement(W.a,{className:"button",onClick:function(){e.push("auth/register")}},"Register Now")),r.a.createElement(Qe,{class:"home__footer"}))},Ye=t(239),Ke=function(e){var a=e.render,t=Object(Ye.a)(e,["render"]),n=r.a.useContext(E),l=n.state;n.dispatch;return r.a.createElement(i.b,Object.assign({},t,{render:function(e){return l.isAuthenticated?r.a.createElement(a,e):r.a.createElement(i.a,{to:"/auth/login"})}}))},Ze={group:{},isFetching:!1,hasError:!1},Ve=function(e,a){switch(a.type){case"FETCH_GROUP_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!0,hasError:!1});case"FETCH_GROUP_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{isFetching:!1,group:a.payload});case"FETCH_GROUP_FAILURE":return Object(u.a)(Object(u.a)({},e),{},{hasError:!0,isFetching:!1});default:return e}},Xe=function(e){var a=Object(l.useReducer)(Ve,Ze),t=Object(n.a)(a,2),c=t[0],o=t[1],s=Object(l.useState)(),m=Object(n.a)(s,2),i=m[0],u=m[1],p=e.match.params.groupId,d=r.a.useContext(E).state,g=d.token?d.token:localStorage.getItem("auth-token");return Object(l.useEffect)((function(){var a=JSON.parse(localStorage.getItem("user"));a||e.history.push("/auth/login");JSON.stringify({memberID:a.id});o({type:"FETCH_GROUP_REQUEST"}),console.log("DISPATCH Fetching: ",c),ne.a.post("/group/get-group/".concat(p),{memberID:a.id},{headers:{"Content-Type":"application/json","auth-token":g}}).then((function(e){console.log("Group DATA Successfully received: ",e.data.group),u(e.data.group.members),o({type:"FETCH_GROUP_SUCCESS",payload:e.data.group})})).catch((function(e){console.log("ERROR:>> ",e)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center mb-4"},r.a.createElement("div",{className:"col-lg-6 col-sm-12"},r.a.createElement("h2",null,"Members List"),r.a.createElement($.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"))),r.a.createElement("tbody",null))),r.a.createElement("div",{className:"col-lg-6 col-sm-12"},r.a.createElement("h2",null,"Group Details"),r.a.createElement($.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Limit"),r.a.createElement("th",{scope:"col"},"Joined"),r.a.createElement("th",{scope:"col"},"Installment"),r.a.createElement("th",{scope:"col"},"Payment Cycle"))),r.a.createElement("tbody",null,c.isFetching?r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement(T.a,{className:"align-items-center"},r.a.createElement(T.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},console.log("groupState.isFetching 2?",c.isFetching),console.log("groups:: ",typeof c.group.members),console.log("GROUP MEMBERS:: ",i),console.log("GROUP MEMBERS:: ",typeof i),console.log("[object Array]"==Object.prototype.toString.call(i)),"".concat(c.group.members_limit," "))))),r.a.createElement("td",null,c.group.payment_frequency),r.a.createElement("td",null,c.group.payment_cycle)):c.hasError?r.a.createElement("tr",null,"ERROR..."):r.a.createElement("tr",null,console.log("groupState.isFetching 1?",c.isFetching),"LOADING..."))))))},$e=function(e){console.log("props: ",e);var a=0;console.log("Render ".concat(++a," \ud83d\ude21"));var t=e.match.params.groupId,c=e.match.params.userId,o=Object(l.useState)(!1),s=Object(n.a)(o,2),m=(s[0],s[1],Object(l.useState)("")),i=Object(n.a)(m,2),u=(i[0],i[1],r.a.useContext(E).state);return Object(l.useEffect)((function(){if(!(u.user?u.user:JSON.parse(localStorage.getItem("user"))))return e.history.push("/auth/login")}),[]),r.a.createElement("div",{className:"mt-7 row justify-content-center"},r.a.createElement("h1",{className:"mr-4"},"Welcome"),r.a.createElement("button",{className:"btn btn-success btn-lg",onClick:function(){var e=u.user;console.log("Joining"),ne.a.post("/group/joingroup/".concat(c,"/").concat(t),{userID:e.id},{headers:{"Content-Type":"application/json","auth-token":u.token}}).then((function(e){console.log("Successfully Joined the group: ",e)})).catch((function(e){console.log(e)}))}},"Join"))},ea=function(){var e=Object(l.useState)(""),a=Object(n.a)(e,2),t=a[0],c=a[1];return r.a.createElement("div",null,r.a.createElement(v.a,{className:"mt-7 ",fluid:!0},r.a.createElement(G.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(V.a,{className:"shadow border-0"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(m.b,{to:"/",className:"btn btn-success"},r.a.createElement("small",null,"Home")),r.a.createElement("center",null,r.a.createElement("h2",null,"Reset Password"))),r.a.createElement("div",{className:"row justify-content-center mb-4"},r.a.createElement("div",{className:"col-9 mt-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",placeholder:"your email",onChange:function(e){return c(e.target.value)},className:"form-control",id:"email"})),r.a.createElement("button",{id:"add",type:"submit",onClick:function(){ne.a.post("email/reset-password/".concat(t),{headers:{"Content-Type":"application/json"}}).then((function(e){console.log("EMAIL SENT SUCCESSFULLY: ",e)})).catch((function(e){return console.error("ERROR SENDING EMAIL: ",e)}))},className:"btn btn-primary"},"Submit"),r.a.createElement("div",null)))))))))},aa=(t(504),t(505),t(506),function(){var e=r.a.useReducer(g,d),a=Object(n.a)(e,2),t=a[0],o=a[1],s=Object(c.a)();return Object(l.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user")||t.user),a=localStorage.getItem("auth-token")||t.token;e&&a&&o({type:"LOGIN",payload:{user:e,token:a}})}),[t.token]),r.a.createElement(E.Provider,{value:{state:t,dispatch:o}},r.a.createElement(m.a,{history:s},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(Be,null)}}),r.a.createElement(Ke,{path:"/admin",render:function(e){return r.a.createElement(Je,e)}}),r.a.createElement(i.b,{path:"/auth",render:function(e){return r.a.createElement(ze,e)}}),r.a.createElement(i.b,{path:"/group/:groupId",render:function(e){return r.a.createElement(se,e)}}),r.a.createElement(i.b,{path:"/group_view/:groupId",render:function(e){return r.a.createElement(Xe,e)}}),r.a.createElement(i.b,{path:"/joingroup/:userId/:groupId",render:function(e){return r.a.createElement($e,e)}}),r.a.createElement(i.b,{path:"/reset-password",render:function(e){return r.a.createElement(ea,e)}}),r.a.createElement(i.b,{component:function(){return r.a.createElement("div",null,"404 Not found ")}}))))});s.a.render(r.a.createElement(aa,null),document.getElementById("root"))}},[[240,1,2]]]);
//# sourceMappingURL=main.db9c912c.chunk.js.map